<!DOCTYPE html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../../28/RecSys-Overview/ rel=next><link rel=icon href=../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>RecSys Challenge 2024: Exploratory Data Analysis - SulmanK Blog</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.ab4e12ef.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1%207.775V2.75C1%201.784%201.784%201%202.75%201h5.025c.464%200%20.91.184%201.238.513l6.25%206.25a1.75%201.75%200%200%201%200%202.474l-5.026%205.026a1.75%201.75%200%200%201-2.474%200l-6.25-6.25A1.75%201.75%200%200%201%201%207.775m1.5%200c0%20.066.026.13.073.177l6.25%206.25a.25.25%200%200%200%20.354%200l5.025-5.025a.25.25%200%200%200%200-.354l-6.25-6.25a.25.25%200%200%200-.177-.073H2.75a.25.25%200%200%200-.25.25ZM6%205a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.5%201.75v11.5c0%20.138.112.25.25.25h3.17a.75.75%200%200%201%200%201.5H2.75A1.75%201.75%200%200%201%201%2013.25V1.75C1%20.784%201.784%200%202.75%200h8.5C12.216%200%2013%20.784%2013%201.75v7.736a.75.75%200%200%201-1.5%200V1.75a.25.25%200%200%200-.25-.25h-8.5a.25.25%200%200%200-.25.25m13.274%209.537zl-4.557%204.45a.75.75%200%200%201-1.055-.008l-1.943-1.95a.75.75%200%200%201%201.062-1.058l1.419%201.425%204.026-3.932a.75.75%200%201%201%201.048%201.074M4.75%204h4.5a.75.75%200%200%201%200%201.5h-4.5a.75.75%200%200%201%200-1.5M4%207.75A.75.75%200%200%201%204.75%207h2a.75.75%200%200%201%200%201.5h-2A.75.75%200%200%201%204%207.75%22/%3E%3C/svg%3E');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.5%207.75A.75.75%200%200%201%207.25%207h1a.75.75%200%200%201%20.75.75v2.75h.25a.75.75%200%200%201%200%201.5h-2a.75.75%200%200%201%200-1.5h.25v-2h-.25a.75.75%200%200%201-.75-.75M8%206a1%201%200%201%201%200-2%201%201%200%200%201%200%202%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M3.499.75a.75.75%200%200%201%201.5%200v.996C5.9%202.903%206.793%203.65%207.662%204.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873%2010.794-.045%2012.622.26%2014.408.558%2016%201.94%2016%204.25c0%201.278-.954%202.575-2.44%202.734l.146.508.065.22c.203.701.412%201.455.476%202.226.142%201.707-.4%203.03-1.487%203.898C11.714%2014.671%2010.27%2015%208.75%2015h-6a.75.75%200%200%201%200-1.5h1.376a4.5%204.5%200%200%201-.563-1.191%203.84%203.84%200%200%201-.05-2.063%204.65%204.65%200%200%201-2.025-.293.75.75%200%200%201%20.525-1.406c1.357.507%202.376-.006%202.698-.318l.009-.01a.747.747%200%200%201%201.06%200%20.75.75%200%200%201-.012%201.074c-.912.92-.992%201.835-.768%202.586.221.74.745%201.337%201.196%201.621H8.75c1.343%200%202.398-.296%203.074-.836.635-.507%201.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.4%202.4%200%200%201-.507-.441%203.1%203.1%200%200%201-.633-1.248.75.75%200%200%201%201.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738%200%201.25-.615%201.25-1.25%200-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706%201.345-.46.92-.27%201.774.019%203.062l.042.19.01.05c.348.443.666.949.94%201.553a.75.75%200%201%201-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7%205.527c-.814-.68-1.75-1.462-2.692-2.619a3.7%203.7%200%200%200-1.023.88c-.406.495-.663%201.036-.722%201.508.116.122.306.21.591.239.388.038.797-.06%201.032-.19a.75.75%200%200%201%20.728%201.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75%205.677V5.5c0-.984.48-1.94%201.077-2.664.46-.559%201.05-1.055%201.673-1.353z%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M13.78%204.22a.75.75%200%200%201%200%201.06l-7.25%207.25a.75.75%200%200%201-1.06%200L2.22%209.28a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018L6%2010.94l6.72-6.72a.75.75%200%200%201%201.06%200%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.92%206.085h.001a.749.749%200%201%201-1.342-.67c.169-.339.436-.701.849-.977C6.845%204.16%207.369%204%208%204a2.76%202.76%200%200%201%201.637.525c.503.377.863.965.863%201.725%200%20.448-.115.83-.329%201.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6%206%200%200%200-.26.16%201%201%200%200%200-.276.245.75.75%200%200%201-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1%201%200%200%200%20.277-.245C8.96%206.514%209%206.427%209%206.25a.61.61%200%200%200-.262-.525A1.27%201.27%200%200%200%208%205.5c-.369%200-.595.09-.74.187a1%201%200%200%200-.34.398M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M6.457%201.047c.659-1.234%202.427-1.234%203.086%200l6.082%2011.378A1.75%201.75%200%200%201%2014.082%2015H1.918a1.75%201.75%200%200%201-1.543-2.575Zm1.763.707a.25.25%200%200%200-.44%200L1.698%2013.132a.25.25%200%200%200%20.22.368h12.164a.25.25%200%200%200%20.22-.368Zm.53%203.996v2.5a.75.75%200%200%201-1.5%200v-2.5a.75.75%200%200%201%201.5%200M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.344%202.343za8%208%200%200%201%2011.314%2011.314A8.002%208.002%200%200%201%20.234%2010.089a8%208%200%200%201%202.11-7.746m1.06%2010.253a6.5%206.5%200%201%200%209.108-9.275%206.5%206.5%200%200%200-9.108%209.275M6.03%204.97%208%206.94l1.97-1.97a.749.749%200%200%201%201.275.326.75.75%200%200%201-.215.734L9.06%208l1.97%201.97a.749.749%200%200%201-.326%201.275.75.75%200%200%201-.734-.215L8%209.06l-1.97%201.97a.749.749%200%200%201-1.275-.326.75.75%200%200%201%20.215-.734L6.94%208%204.97%206.03a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M9.504.43a1.516%201.516%200%200%201%202.437%201.713L10.415%205.5h2.123c1.57%200%202.346%201.909%201.22%203.004l-7.34%207.142a1.25%201.25%200%200%201-.871.354h-.302a1.25%201.25%200%200%201-1.157-1.723L5.633%2010.5H3.462c-1.57%200-2.346-1.909-1.22-3.004zm1.047%201.074L3.286%208.571A.25.25%200%200%200%203.462%209H6.75a.75.75%200%200%201%20.694%201.034l-1.713%204.188%206.982-6.793A.25.25%200%200%200%2012.538%207H9.25a.75.75%200%200%201-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005%200-.009.004%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M4.72.22a.75.75%200%200%201%201.06%200l1%20.999a3.5%203.5%200%200%201%202.441%200l.999-1a.748.748%200%200%201%201.265.332.75.75%200%200%201-.205.729l-.775.776c.616.63.995%201.493.995%202.444v.327q0%20.15-.025.292c.408.14.764.392%201.029.722l1.968-.787a.75.75%200%200%201%20.556%201.392L13%207.258V9h2.25a.75.75%200%200%201%200%201.5H13v.5q-.002.615-.141%201.186l2.17.868a.75.75%200%200%201-.557%201.392l-2.184-.873A5%205%200%200%201%208%2016a5%205%200%200%201-4.288-2.427l-2.183.873a.75.75%200%200%201-.558-1.392l2.17-.868A5%205%200%200%201%203%2011v-.5H.75a.75.75%200%200%201%200-1.5H3V7.258L.971%206.446a.75.75%200%200%201%20.558-1.392l1.967.787c.265-.33.62-.583%201.03-.722a1.7%201.7%200%200%201-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72%201.28a.75.75%200%200%201%200-1.06m.53%206.28a.75.75%200%200%200-.75.75V11a3.5%203.5%200%201%200%207%200V7.25a.75.75%200%200%200-.75-.75ZM6.173%205h3.654A.17.17%200%200%200%2010%204.827V4.5a2%202%200%201%200-4%200v.327c0%20.096.077.173.173.173%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5%205.782V2.5h-.25a.75.75%200%200%201%200-1.5h6.5a.75.75%200%200%201%200%201.5H11v3.282l3.666%205.76C15.619%2013.04%2014.543%2015%2012.767%2015H3.233c-1.776%200-2.852-1.96-1.899-3.458Zm-2.4%206.565a.75.75%200%200%200%20.633%201.153h9.534a.75.75%200%200%200%20.633-1.153L12.225%2010.5h-8.45ZM9.5%202.5h-3V6c0%20.143-.04.283-.117.403L4.73%209h6.54L9.617%206.403A.75.75%200%200%201%209.5%206Z%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1.75%202.5h10.5a.75.75%200%200%201%200%201.5H1.75a.75.75%200%200%201%200-1.5m4%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5m0%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5M2.5%207.75v6a.75.75%200%200%201-1.5%200v-6a.75.75%200%200%201%201.5%200%22/%3E%3C/svg%3E');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../assets/_mkdocstrings.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><script src=../../../../../assets/javascripts/glightbox.min.js></script><style id=glightbox-style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#recsys-challenge-2024-exploratory-data-analysis class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="SulmanK Blog" class="md-header__button md-logo" aria-label="SulmanK Blog" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SulmanK Blog </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> RecSys Challenge 2024: Exploratory Data Analysis </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/SulmanK/blog/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> blog </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> Writing </a> </li> <li class=md-tabs__item> <a href=../../../../../contact/ class=md-tabs__link> Contact </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="SulmanK Blog" class="md-nav__button md-logo" aria-label="SulmanK Blog" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> SulmanK Blog </label> <div class=md-nav__source> <a href=https://github.com/SulmanK/blog/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> blog </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../ class="md-nav__link "> <span class=md-ellipsis> Writing </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Writing </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../archive/2026/ class=md-nav__link> <span class=md-ellipsis> 2026 </span> </a> </li> <li class=md-nav__item> <a href=../../../../archive/2025/ class=md-nav__link> <span class=md-ellipsis> 2025 </span> </a> </li> <li class=md-nav__item> <a href=../../../../archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../category/ai/ class=md-nav__link> <span class=md-ellipsis> AI </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/agent/ class=md-nav__link> <span class=md-ellipsis> Agent </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/agentic-workflow/ class=md-nav__link> <span class=md-ellipsis> Agentic Workflow </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/agents/ class=md-nav__link> <span class=md-ellipsis> Agents </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/benchmark/ class=md-nav__link> <span class=md-ellipsis> Benchmark </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/cloud-architecture/ class=md-nav__link> <span class=md-ellipsis> Cloud Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/data-engineering/ class=md-nav__link> <span class=md-ellipsis> Data Engineering </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/data-science/ class=md-nav__link> <span class=md-ellipsis> Data Science </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/deep-learning-recommendation-models/ class=md-nav__link> <span class=md-ellipsis> Deep Learning Recommendation Models </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/evaluation/ class=md-nav__link> <span class=md-ellipsis> Evaluation </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/exploratory-data-analysis/ class=md-nav__link> <span class=md-ellipsis> Exploratory Data Analysis </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/fastapi/ class=md-nav__link> <span class=md-ellipsis> FastAPI </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/full-stack/ class=md-nav__link> <span class=md-ellipsis> Full Stack </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/gcp/ class=md-nav__link> <span class=md-ellipsis> GCP </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/llm/ class=md-nav__link> <span class=md-ellipsis> LLM </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/llms/ class=md-nav__link> <span class=md-ellipsis> LLMs </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/ml/ class=md-nav__link> <span class=md-ellipsis> ML </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/machine-learning/ class=md-nav__link> <span class=md-ellipsis> Machine Learning </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/model-selection/ class=md-nav__link> <span class=md-ellipsis> Model Selection </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/music-technology/ class=md-nav__link> <span class=md-ellipsis> Music Technology </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/react/ class=md-nav__link> <span class=md-ellipsis> React </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/recsys-challenge-2024/ class=md-nav__link> <span class=md-ellipsis> RecSys Challenge 2024 </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/recommendation-systems/ class=md-nav__link> <span class=md-ellipsis> Recommendation Systems </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/recommender-systems/ class=md-nav__link> <span class=md-ellipsis> Recommender Systems </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/social-deduction/ class=md-nav__link> <span class=md-ellipsis> Social Deduction </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/terraform/ class=md-nav__link> <span class=md-ellipsis> Terraform </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/web-development/ class=md-nav__link> <span class=md-ellipsis> Web Development </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/cloud/ class=md-nav__link> <span class=md-ellipsis> cloud </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/end-to-end-pipeline/ class=md-nav__link> <span class=md-ellipsis> end-to-end pipeline </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../contact/ class=md-nav__link> <span class=md-ellipsis> Contact </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#data-preprocessing class=md-nav__link> <span class=md-ellipsis> Data Preprocessing </span> </a> </li> <li class=md-nav__item> <a href=#functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#plot-functions class=md-nav__link> <span class=md-ellipsis> Plot Functions </span> </a> </li> <li class=md-nav__item> <a href=#feature-functions class=md-nav__link> <span class=md-ellipsis> Feature Functions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#feature-analysis class=md-nav__link> <span class=md-ellipsis> Feature Analysis </span> </a> <nav class=md-nav aria-label="Feature Analysis"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#main-questions class=md-nav__link> <span class=md-ellipsis> Main Questions: </span> </a> </li> <li class=md-nav__item> <a href=#overall-feature-analysis class=md-nav__link> <span class=md-ellipsis> Overall Feature Analysis </span> </a> </li> <li class=md-nav__item> <a href=#article class=md-nav__link> <span class=md-ellipsis> Article </span> </a> <nav class=md-nav aria-label=Article> <ul class=md-nav__list> <li class=md-nav__item> <a href=#average-read-time class=md-nav__link> <span class=md-ellipsis> Average Read Time </span> </a> </li> <li class=md-nav__item> <a href=#average-scroll-percentage class=md-nav__link> <span class=md-ellipsis> Average Scroll Percentage </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#user class=md-nav__link> <span class=md-ellipsis> User </span> </a> <nav class=md-nav aria-label=User> <ul class=md-nav__list> <li class=md-nav__item> <a href=#read-time class=md-nav__link> <span class=md-ellipsis> Read Time </span> </a> </li> <li class=md-nav__item> <a href=#scroll-percentage class=md-nav__link> <span class=md-ellipsis> Scroll Percentage </span> </a> </li> <li class=md-nav__item> <a href=#daily-user-activity class=md-nav__link> <span class=md-ellipsis> Daily User Activity </span> </a> </li> <li class=md-nav__item> <a href=#hourly-user-activity class=md-nav__link> <span class=md-ellipsis> Hourly User Activity </span> </a> </li> <li class=md-nav__item> <a href=#weekly-user-activity class=md-nav__link> <span class=md-ellipsis> Weekly User Activity </span> </a> </li> <li class=md-nav__item> <a href=#day-of-the-week-user-activity class=md-nav__link> <span class=md-ellipsis> Day of the Week User Activity </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#session class=md-nav__link> <span class=md-ellipsis> Session </span> </a> <nav class=md-nav aria-label=Session> <ul class=md-nav__list> <li class=md-nav__item> <a href=#read-time_1 class=md-nav__link> <span class=md-ellipsis> Read Time </span> </a> </li> <li class=md-nav__item> <a href=#scroll-percentage_1 class=md-nav__link> <span class=md-ellipsis> Scroll Percentage </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#topic class=md-nav__link> <span class=md-ellipsis> Topic </span> </a> <nav class=md-nav aria-label=Topic> <ul class=md-nav__list> <li class=md-nav__item> <a href=#read-time_2 class=md-nav__link> <span class=md-ellipsis> Read Time </span> </a> </li> <li class=md-nav__item> <a href=#scroll-percentage_2 class=md-nav__link> <span class=md-ellipsis> Scroll Percentage </span> </a> </li> <li class=md-nav__item> <a href=#daily-activity class=md-nav__link> <span class=md-ellipsis> Daily Activity </span> </a> </li> <li class=md-nav__item> <a href=#hourly-activity class=md-nav__link> <span class=md-ellipsis> Hourly Activity </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#devices class=md-nav__link> <span class=md-ellipsis> Devices </span> </a> <nav class=md-nav aria-label=Devices> <ul class=md-nav__list> <li class=md-nav__item> <a href=#read-time_3 class=md-nav__link> <span class=md-ellipsis> Read Time </span> </a> </li> <li class=md-nav__item> <a href=#scroll-percentage_3 class=md-nav__link> <span class=md-ellipsis> Scroll Percentage </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#age class=md-nav__link> <span class=md-ellipsis> Age </span> </a> <nav class=md-nav aria-label=Age> <ul class=md-nav__list> <li class=md-nav__item> <a href=#read-time_4 class=md-nav__link> <span class=md-ellipsis> Read Time </span> </a> </li> <li class=md-nav__item> <a href=#scroll-percentage_4 class=md-nav__link> <span class=md-ellipsis> Scroll Percentage </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#postcodes class=md-nav__link> <span class=md-ellipsis> Postcodes </span> </a> <nav class=md-nav aria-label=Postcodes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#read-time_5 class=md-nav__link> <span class=md-ellipsis> Read Time </span> </a> </li> <li class=md-nav__item> <a href=#scroll-percentage_5 class=md-nav__link> <span class=md-ellipsis> Scroll percentage </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src="https://avatars.githubusercontent.com/u/43801845?v=4" alt="Sulman Khan"> </span> <span class=md-profile__description> <strong> <a href=https://github.com/SulmanK>Sulman Khan</a> </strong> <br> Creator </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"></path></svg> <time datetime="2024-04-25 00:00:00+00:00" class=md-ellipsis>2024/04/25</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"></path></svg> <span class=md-ellipsis> in <a href=../../../../category/recsys-challenge-2024/ >RecSys Challenge 2024</a>, <a href=../../../../category/recommendation-systems/ >Recommendation Systems</a>, <a href=../../../../category/exploratory-data-analysis/ >Exploratory Data Analysis</a>, <a href=../../../../category/data-science/ >Data Science</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"></path></svg> <span class=md-ellipsis> 22 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <a href=https://github.com/SulmanK/blog/edit/master/docs/writing/posts/recsys_2024_eda.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"></path></svg> </a> <a href=https://github.com/SulmanK/blog/raw/master/docs/writing/posts/recsys_2024_eda.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"></path></svg> </a> <h1 id=recsys-challenge-2024-exploratory-data-analysis>RecSys Challenge 2024: Exploratory Data Analysis<a class=headerlink href=#recsys-challenge-2024-exploratory-data-analysis title="Permanent link">¶</a></h1> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">¶</a></h2> <div class="admonition abstract"> <p class=admonition-title>Purpose</p> <p>This article will cover the exploratory data analysis of the RecSys 2024 Challenge dataset. The content will be structured into the following sections:</p> <ul> <li>Data Preprocessing</li> <li>Functions<ul> <li>Plot Functions</li> <li>Feature Functions</li> </ul> </li> <li>Feature Analysis<ul> <li>Overall Feature Analysis</li> <li>Article</li> <li>User</li> <li>Session</li> <li>Topic</li> <li>Devices</li> <li>Age</li> </ul> </li> </ul> <p>For more in-depth analysis, please check out the <a href=https://github.com/SulmanK/2024-Recsys-Challenge/blob/main/notebooks/2024_Recsys_Challenge_EDA.ipynb>notebook</a>!</p> <!-- more --> </div> <div class="admonition info"> <p class=admonition-title>About</p> <p>This year's challenge focuses on online news recommendation, addressing both the technical and normative challenges inherent in designing effective and responsible recommender systems for news publishing. The challenge will delve into the unique aspects of news recommendation, including modeling user preferences based on implicit behavior, accounting for the influence of the news agenda on user interests, and managing the rapid decay of news items. Furthermore, our challenge embraces the normative complexities, involving investigating the effects of recommender systems on the news flow and whether they resonate with editorial values. <a href=https://recsys.eb.dk/ >[1]</a></p> </div> <div class="admonition info"> <p class=admonition-title>Challenge Task</p> <p>The Ekstra Bladet RecSys Challenge aims to predict which article a user will click on from a list of articles that were seen during a specific impression. Utilizing the user's click history, session details (like time and device used), and personal metadata (including gender and age), along with a list of candidate news articles listed in an impression log, the challenge's objective is to rank the candidate articles based on the user's personal preferences. This involves developing models that encapsulate both the users and the articles through their content and the users' interests. The models are to estimate the likelihood of a user clicking on each article by evaluating the compatibility between the article's content and the user's preferences. The articles are ranked based on these likelihood scores, and the precision of these rankings is measured against the actual selections made by users. <a href=https://recsys.eb.dk/ >[1]</a></p> </div> <div class="admonition info note"> <p class=admonition-title>Dataset Information</p> <p>The Ekstra Bladet News Recommendation Dataset (EB-NeRD) was created to support advancements in news recommendation research. It was collected from user behavior logs at Ekstra Bladet. We collected behavior logs from active users during the 6 weeks from April 27 to June 8, 2023. This timeframe was selected to avoid major events, e.g., holidays or elections, that could trigger atypical behavior at Ekstra Bladet. The active users were defined as users who had at least 5 and at most 1,000 news click records in a three-week period from May 18 to June 8, 2023. To protect user privacy, every user was delinked from the production system when securely hashed into an anonymized ID using one-time salt mapping. Alongside, we provide Danish news articles published by Ekstra Bladet. Each article is enriched with textual context features such as title, abstract, body, categories, among others. Furthermore, we provide features that have been generated by proprietary models, including topics, named entity recognition (NER), and article embeddings. <a href=https://recsys.eb.dk/dataset/ >[2]</a></p> <p>For more information on the <a href=https://recsys.eb.dk/dataset/ >dataset</a>.</p> </div> <div class="admonition note"> <p class=admonition-title>Key Metrics</p> <p>We need to establish specific metrics and analyze how different features impact those metrics. Our platform generates revenue through both subscriptions and advertisements. User engagement is crucial because the more time users spend reading new articles, the greater our advertisement revenue. We will need this insight for our next section on model selection for a recommendation system.</p> </div> <h2 id=data-preprocessing>Data Preprocessing<a class=headerlink href=#data-preprocessing title="Permanent link">¶</a></h2> <p>Let's start by importing the packages required for this section.</p> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># Packages</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>datetime</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=kn>from</span><span class=w> </span><span class=nn>plotly.subplots</span><span class=w> </span><span class=kn>import</span> <span class=n>make_subplots</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=kn>import</span><span class=w> </span><span class=nn>pandas</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>pd</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=kn>import</span><span class=w> </span><span class=nn>plotly</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=kn>import</span><span class=w> </span><span class=nn>plotly.express</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>px</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=kn>import</span><span class=w> </span><span class=nn>plotly.graph_objects</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>go</span>
</span></code></pre></div> Next, let's load in the three separate data sources of the dataset:<p></p> <div class="admonition note"> <p class=admonition-title>Data Sources</p> <p><a href=https://recsys.eb.dk/dataset/#articles><strong>Articles</strong></a>: Detailed information of news articles</p> <p><a href=https://recsys.eb.dk/dataset/#behaviors><strong>Behaviors</strong></a>: Impression Logs. </p> <p><a href=https://recsys.eb.dk/dataset/#history><strong>History</strong></a>: Click histories of users. </p> </div> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># Load in various dataframes</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=c1># Articles</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=n>df_art</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_parquet</span><span class=p>(</span><span class=s2>"Data/Small/articles.parquet"</span><span class=p>)</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=c1># Behaviors</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=n>df_bev</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_parquet</span><span class=p>(</span><span class=s2>"Data/Small/train/behaviors.parquet"</span><span class=p>)</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=c1># History</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=n>df_his</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_parquet</span><span class=p>(</span><span class=s2>"Data/Small/train/history.parquet"</span><span class=p>)</span>
</span></code></pre></div> <div class="admonition question"> <p class=admonition-title>How can we merge these data sources?</p> </div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>We've noticed that there are columns shared among each of these data sources that we can use for joining.</p> <ul> <li><strong>Articles</strong> &lt;&gt; Article ID &lt;&gt; <strong>Behavior</strong></li> <li><strong>History</strong> &lt;&gt; User ID &lt;&gt; <strong>Behavior</strong></li> </ul> </div> <p>Before merging them together, we'll need to adjust the <code>behaviors['articles_id_clicked']</code> feature.</p> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># Convert datatype of column first</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=n>df_bev</span><span class=p>[</span><span class=s1>'article_id'</span><span class=p>]</span> <span class=o>=</span> <span class=n>df_bev</span><span class=p>[</span><span class=s1>'article_id'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=k>if</span> <span class=nb>type</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>==</span> <span class=nb>str</span> <span class=k>else</span> <span class=n>x</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>int32</span><span class=p>)</span> <span class=p>)</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=c1># Join bevhaiors to article</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=n>df</span> <span class=o>=</span> <span class=n>df_bev</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>df_art</span><span class=o>.</span><span class=n>set_index</span><span class=p>(</span><span class=s2>"article_id"</span><span class=p>),</span> <span class=n>on</span><span class=o>=</span><span class=s2>"article_id"</span><span class=p>)</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=c1># Join bevhaiors to history</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>df_his</span><span class=o>.</span><span class=n>set_index</span><span class=p>(</span><span class=s2>"user_id"</span><span class=p>),</span> <span class=n>on</span><span class=o>=</span><span class=s2>"user_id"</span><span class=p>)</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=c1># Drop all other dataframes from me</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=n>df_bev</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=n>df_his</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=n>df_art</span> <span class=o>=</span> <span class=p>[]</span>
</span></code></pre></div> Finally, we'll preprocess additional columns by converting the <code>device_type</code> from integer to string, <code>gender</code> from float to string, <code>postcodes</code> from float to string, <code>article_id</code> from string to integer, and <code>age</code> from an integer to a string.<p></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>def</span><span class=w> </span><span class=nf>device_</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>    </span><span class=sd>""" </span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=sd>    Changes the device input from a int to a str</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=sd>    Keyword arguments:</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=sd>        x -- int</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=sd>    Output:</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=sd>        str</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=sd>    """</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>    <span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>        <span class=k>return</span> <span class=s1>'Desktop'</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=k>elif</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>        <span class=k>return</span> <span class=s1>'Mobile'</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>        <span class=k>return</span> <span class=s1>'Tablet'</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=k>def</span><span class=w> </span><span class=nf>gender_</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=w>    </span><span class=sd>""" </span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a><span class=sd>    Changes the gender input from a float to a str</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a><span class=sd>    Keyword arguments:</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a><span class=sd>        x -- float</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a><span class=sd>    Output:</span>
</span><span id=__span-3-22><a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a><span class=sd>        str</span>
</span><span id=__span-3-23><a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a><span class=sd>    """</span>
</span><span id=__span-3-24><a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a>    <span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=mf>0.0</span><span class=p>:</span>
</span><span id=__span-3-25><a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a>        <span class=k>return</span> <span class=s1>'Male'</span>
</span><span id=__span-3-26><a id=__codelineno-3-26 name=__codelineno-3-26 href=#__codelineno-3-26></a>    <span class=k>elif</span> <span class=n>x</span> <span class=o>==</span> <span class=mf>1.0</span><span class=p>:</span>
</span><span id=__span-3-27><a id=__codelineno-3-27 name=__codelineno-3-27 href=#__codelineno-3-27></a>        <span class=k>return</span> <span class=s1>'Female'</span>
</span><span id=__span-3-28><a id=__codelineno-3-28 name=__codelineno-3-28 href=#__codelineno-3-28></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-3-29><a id=__codelineno-3-29 name=__codelineno-3-29 href=#__codelineno-3-29></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-3-30><a id=__codelineno-3-30 name=__codelineno-3-30 href=#__codelineno-3-30></a>
</span><span id=__span-3-31><a id=__codelineno-3-31 name=__codelineno-3-31 href=#__codelineno-3-31></a>
</span><span id=__span-3-32><a id=__codelineno-3-32 name=__codelineno-3-32 href=#__codelineno-3-32></a><span class=k>def</span><span class=w> </span><span class=nf>postcodes_</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span><span id=__span-3-33><a id=__codelineno-3-33 name=__codelineno-3-33 href=#__codelineno-3-33></a><span class=w>    </span><span class=sd>""" </span>
</span><span id=__span-3-34><a id=__codelineno-3-34 name=__codelineno-3-34 href=#__codelineno-3-34></a><span class=sd>    Changes the postcodes input from a float to a str</span>
</span><span id=__span-3-35><a id=__codelineno-3-35 name=__codelineno-3-35 href=#__codelineno-3-35></a><span class=sd>    Keyword arguments:</span>
</span><span id=__span-3-36><a id=__codelineno-3-36 name=__codelineno-3-36 href=#__codelineno-3-36></a><span class=sd>        x -- float</span>
</span><span id=__span-3-37><a id=__codelineno-3-37 name=__codelineno-3-37 href=#__codelineno-3-37></a><span class=sd>    Output:</span>
</span><span id=__span-3-38><a id=__codelineno-3-38 name=__codelineno-3-38 href=#__codelineno-3-38></a><span class=sd>        str</span>
</span><span id=__span-3-39><a id=__codelineno-3-39 name=__codelineno-3-39 href=#__codelineno-3-39></a><span class=sd>    """</span>
</span><span id=__span-3-40><a id=__codelineno-3-40 name=__codelineno-3-40 href=#__codelineno-3-40></a>    <span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=mf>0.0</span><span class=p>:</span>
</span><span id=__span-3-41><a id=__codelineno-3-41 name=__codelineno-3-41 href=#__codelineno-3-41></a>        <span class=k>return</span> <span class=s1>'Metropolitan'</span>
</span><span id=__span-3-42><a id=__codelineno-3-42 name=__codelineno-3-42 href=#__codelineno-3-42></a>    <span class=k>elif</span> <span class=n>x</span> <span class=o>==</span> <span class=mf>1.0</span><span class=p>:</span>
</span><span id=__span-3-43><a id=__codelineno-3-43 name=__codelineno-3-43 href=#__codelineno-3-43></a>        <span class=k>return</span> <span class=s1>'Rural District'</span>
</span><span id=__span-3-44><a id=__codelineno-3-44 name=__codelineno-3-44 href=#__codelineno-3-44></a>
</span><span id=__span-3-45><a id=__codelineno-3-45 name=__codelineno-3-45 href=#__codelineno-3-45></a>    <span class=k>elif</span> <span class=n>x</span> <span class=o>==</span> <span class=mf>2.0</span><span class=p>:</span>
</span><span id=__span-3-46><a id=__codelineno-3-46 name=__codelineno-3-46 href=#__codelineno-3-46></a>        <span class=k>return</span> <span class=s1>'Municipality'</span>
</span><span id=__span-3-47><a id=__codelineno-3-47 name=__codelineno-3-47 href=#__codelineno-3-47></a>
</span><span id=__span-3-48><a id=__codelineno-3-48 name=__codelineno-3-48 href=#__codelineno-3-48></a>    <span class=k>elif</span> <span class=n>x</span> <span class=o>==</span> <span class=mf>3.0</span><span class=p>:</span>
</span><span id=__span-3-49><a id=__codelineno-3-49 name=__codelineno-3-49 href=#__codelineno-3-49></a>        <span class=k>return</span> <span class=s1>'Provincial'</span>
</span><span id=__span-3-50><a id=__codelineno-3-50 name=__codelineno-3-50 href=#__codelineno-3-50></a>
</span><span id=__span-3-51><a id=__codelineno-3-51 name=__codelineno-3-51 href=#__codelineno-3-51></a>    <span class=k>elif</span> <span class=n>x</span> <span class=o>==</span> <span class=mf>4.0</span><span class=p>:</span>
</span><span id=__span-3-52><a id=__codelineno-3-52 name=__codelineno-3-52 href=#__codelineno-3-52></a>        <span class=k>return</span> <span class=s1>'Big City'</span>
</span><span id=__span-3-53><a id=__codelineno-3-53 name=__codelineno-3-53 href=#__codelineno-3-53></a>
</span><span id=__span-3-54><a id=__codelineno-3-54 name=__codelineno-3-54 href=#__codelineno-3-54></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-3-55><a id=__codelineno-3-55 name=__codelineno-3-55 href=#__codelineno-3-55></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-3-56><a id=__codelineno-3-56 name=__codelineno-3-56 href=#__codelineno-3-56></a>
</span><span id=__span-3-57><a id=__codelineno-3-57 name=__codelineno-3-57 href=#__codelineno-3-57></a><span class=c1># Preprocessing</span>
</span><span id=__span-3-58><a id=__codelineno-3-58 name=__codelineno-3-58 href=#__codelineno-3-58></a><span class=n>df</span><span class=o>.</span><span class=n>dropna</span><span class=p>(</span><span class=n>subset</span><span class=o>=</span><span class=p>[</span><span class=s1>'article_id'</span><span class=p>],</span> <span class=n>inplace</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-3-59><a id=__codelineno-3-59 name=__codelineno-3-59 href=#__codelineno-3-59></a>
</span><span id=__span-3-60><a id=__codelineno-3-60 name=__codelineno-3-60 href=#__codelineno-3-60></a><span class=c1># Change article IDs into int</span>
</span><span id=__span-3-61><a id=__codelineno-3-61 name=__codelineno-3-61 href=#__codelineno-3-61></a><span class=n>df</span><span class=p>[</span><span class=s1>'article_id'</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'article_id'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
</span><span id=__span-3-62><a id=__codelineno-3-62 name=__codelineno-3-62 href=#__codelineno-3-62></a><span class=n>df</span><span class=p>[</span><span class=s1>'article_id'</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'article_id'</span><span class=p>]</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>int64</span><span class=p>)</span>
</span><span id=__span-3-63><a id=__codelineno-3-63 name=__codelineno-3-63 href=#__codelineno-3-63></a>
</span><span id=__span-3-64><a id=__codelineno-3-64 name=__codelineno-3-64 href=#__codelineno-3-64></a><span class=c1># Change age from int to string</span>
</span><span id=__span-3-65><a id=__codelineno-3-65 name=__codelineno-3-65 href=#__codelineno-3-65></a><span class=n>df</span><span class=p>[</span><span class=s1>'device_type'</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'device_type'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>device_</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
</span><span id=__span-3-66><a id=__codelineno-3-66 name=__codelineno-3-66 href=#__codelineno-3-66></a>
</span><span id=__span-3-67><a id=__codelineno-3-67 name=__codelineno-3-67 href=#__codelineno-3-67></a><span class=c1># Change genders from float to string</span>
</span><span id=__span-3-68><a id=__codelineno-3-68 name=__codelineno-3-68 href=#__codelineno-3-68></a><span class=n>df</span><span class=p>[</span><span class=s1>'gender'</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'gender'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>gender_</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
</span><span id=__span-3-69><a id=__codelineno-3-69 name=__codelineno-3-69 href=#__codelineno-3-69></a>
</span><span id=__span-3-70><a id=__codelineno-3-70 name=__codelineno-3-70 href=#__codelineno-3-70></a><span class=c1># Change age to str it's a range</span>
</span><span id=__span-3-71><a id=__codelineno-3-71 name=__codelineno-3-71 href=#__codelineno-3-71></a><span class=n>df</span><span class=p>[</span><span class=s1>'age'</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'age'</span><span class=p>]</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=s1>'Int64'</span><span class=p>)</span>
</span><span id=__span-3-72><a id=__codelineno-3-72 name=__codelineno-3-72 href=#__codelineno-3-72></a><span class=n>df</span><span class=p>[</span><span class=s1>'age'</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'age'</span><span class=p>]</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
</span><span id=__span-3-73><a id=__codelineno-3-73 name=__codelineno-3-73 href=#__codelineno-3-73></a><span class=n>df</span><span class=p>[</span><span class=s1>'age'</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'age'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span>
</span><span id=__span-3-74><a id=__codelineno-3-74 name=__codelineno-3-74 href=#__codelineno-3-74></a>    <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=s1>'&lt;NA&gt;'</span> <span class=k>else</span> <span class=n>x</span> <span class=o>+</span> <span class=s1>' - '</span> <span class=o>+</span> <span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=s1>'9'</span><span class=p>)</span>
</span><span id=__span-3-75><a id=__codelineno-3-75 name=__codelineno-3-75 href=#__codelineno-3-75></a>
</span><span id=__span-3-76><a id=__codelineno-3-76 name=__codelineno-3-76 href=#__codelineno-3-76></a>
</span><span id=__span-3-77><a id=__codelineno-3-77 name=__codelineno-3-77 href=#__codelineno-3-77></a><span class=c1># Change postcodes from int to str</span>
</span><span id=__span-3-78><a id=__codelineno-3-78 name=__codelineno-3-78 href=#__codelineno-3-78></a><span class=n>df</span><span class=p>[</span><span class=s1>'postcode'</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'postcode'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>postcodes_</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
</span></code></pre></div> <h2 id=functions>Functions<a class=headerlink href=#functions title="Permanent link">¶</a></h2> <p>This section is divided into two types of functions used for EDA:</p> <ol> <li>Visualization </li> <li>Feature preprocessing </li> </ol> <h3 id=plot-functions>Plot Functions<a class=headerlink href=#plot-functions title="Permanent link">¶</a></h3> <p>We'll implement functions to generate the following visualizations:</p> <ul> <li>Single and Multiple Categorical Bar Plots</li> <li>Single and Multiple Categorical Histograms, Box Plots, and Bar plots</li> <li>Scatter plots to measure activity across a time period</li> </ul> <p>Below is an example of a plot function implemented. This function will generate a histogram, a box plot, and a bar plot visualization for two features: This function is useful when comparing a categorical feature (such as Age) with a numerical feature (such as Read Time).</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>def</span><span class=w> </span><span class=nf>multiple_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>df_</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>feature_1</span><span class=p>,</span> <span class=n>feature_2</span><span class=p>,</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>feature_2_title</span><span class=p>,</span> <span class=n>feature_1_title</span><span class=p>,</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=n>histogram_xaxis_title</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>"Graph"</span><span class=p>:</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>    </span><span class=sd>""" </span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=sd>    Displays multiple plots: Histogram, Box, and Bar plots based on multiple features given.</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=sd>    Keyword arguments:</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=sd>        df_ -- list</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=sd>        feature_1 -- str</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=sd>        feature_2 -- str</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=sd>        feature_1_title -- str</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=sd>        feature_2_title -- str</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=sd>        histogram_xaxis_title -- str</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=sd>    Output: </span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=sd>        Plotly graph object!</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=sd>    """</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>    <span class=c1># Make subplots object</span>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>    <span class=n>fig</span> <span class=o>=</span> <span class=n>make_subplots</span><span class=p>(</span>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>        <span class=n>rows</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>cols</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>subplot_titles</span><span class=o>=</span><span class=p>(</span><span class=s2>"&lt;b&gt;Histogram&lt;b&gt;"</span><span class=p>,</span> <span class=s2>"&lt;b&gt;Box plot&lt;b&gt;"</span><span class=p>,</span> <span class=s2>"&lt;b&gt;Average </span><span class=si>{}</span><span class=s2> for </span><span class=si>{}</span><span class=s2>&lt;b&gt;"</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>feature_2_title</span><span class=p>,</span> <span class=n>feature_1_title</span><span class=p>))</span>
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a>    <span class=p>)</span>
</span><span id=__span-4-24><a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a>
</span><span id=__span-4-25><a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a>    <span class=c1># Assign tmp_df based on feature</span>
</span><span id=__span-4-26><a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a>    <span class=k>if</span> <span class=n>feature_1</span> <span class=o>==</span> <span class=s1>'age'</span><span class=p>:</span>
</span><span id=__span-4-27><a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a>        <span class=n>tmp_df</span> <span class=o>=</span> <span class=n>df_</span><span class=p>[</span><span class=n>df_</span><span class=p>[</span><span class=s1>'age'</span><span class=p>]</span> <span class=o>!=</span> <span class=s1>'&lt;NA&gt;'</span><span class=p>]</span>
</span><span id=__span-4-28><a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-4-29><a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a>        <span class=n>tmp_df</span> <span class=o>=</span> <span class=n>df_</span><span class=p>[</span><span class=o>~</span><span class=n>df_</span><span class=p>[</span><span class=n>feature_1</span><span class=p>]</span><span class=o>.</span><span class=n>isnull</span><span class=p>()]</span>
</span><span id=__span-4-30><a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a>
</span><span id=__span-4-31><a id=__codelineno-4-31 name=__codelineno-4-31 href=#__codelineno-4-31></a>    <span class=c1># Create a category list from the feature given </span>
</span><span id=__span-4-32><a id=__codelineno-4-32 name=__codelineno-4-32 href=#__codelineno-4-32></a>    <span class=n>categories</span> <span class=o>=</span> <span class=p>[</span><span class=n>d</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>tmp_df</span><span class=p>[</span><span class=n>feature_1</span><span class=p>]</span><span class=o>.</span><span class=n>unique</span><span class=p>()]</span>
</span><span id=__span-4-33><a id=__codelineno-4-33 name=__codelineno-4-33 href=#__codelineno-4-33></a>    <span class=n>categories</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
</span><span id=__span-4-34><a id=__codelineno-4-34 name=__codelineno-4-34 href=#__codelineno-4-34></a>
</span><span id=__span-4-35><a id=__codelineno-4-35 name=__codelineno-4-35 href=#__codelineno-4-35></a>    <span class=c1># Iterate through each category and produce a histogram, boxplot, and bar plots for that subset of the data</span>
</span><span id=__span-4-36><a id=__codelineno-4-36 name=__codelineno-4-36 href=#__codelineno-4-36></a>    <span class=k>for</span> <span class=n>category_</span> <span class=ow>in</span> <span class=n>categories</span><span class=p>:</span>
</span><span id=__span-4-37><a id=__codelineno-4-37 name=__codelineno-4-37 href=#__codelineno-4-37></a>        <span class=n>subset_feature_2</span> <span class=o>=</span> <span class=n>tmp_df</span><span class=p>[</span><span class=n>tmp_df</span><span class=p>[</span><span class=n>feature_1</span><span class=p>]</span><span class=o>==</span> <span class=n>category_</span><span class=p>][</span><span class=n>feature_2</span><span class=p>]</span><span class=o>.</span><span class=n>values</span>
</span><span id=__span-4-38><a id=__codelineno-4-38 name=__codelineno-4-38 href=#__codelineno-4-38></a>        <span class=n>avg</span> <span class=o>=</span> <span class=nb>round</span><span class=p>(</span><span class=nb>float</span><span class=p>(</span><span class=n>tmp_df</span><span class=p>[</span><span class=n>tmp_df</span><span class=p>[</span><span class=n>feature_1</span><span class=p>]</span> <span class=o>==</span> <span class=n>category_</span><span class=p>][</span><span class=n>feature_2</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()),</span> <span class=mi>3</span><span class=p>)</span>
</span><span id=__span-4-39><a id=__codelineno-4-39 name=__codelineno-4-39 href=#__codelineno-4-39></a>        <span class=c1># Add histogram</span>
</span><span id=__span-4-40><a id=__codelineno-4-40 name=__codelineno-4-40 href=#__codelineno-4-40></a>        <span class=n>fig</span><span class=o>.</span><span class=n>add_trace</span><span class=p>(</span>
</span><span id=__span-4-41><a id=__codelineno-4-41 name=__codelineno-4-41 href=#__codelineno-4-41></a>            <span class=n>go</span><span class=o>.</span><span class=n>Histogram</span><span class=p>(</span>
</span><span id=__span-4-42><a id=__codelineno-4-42 name=__codelineno-4-42 href=#__codelineno-4-42></a>                <span class=n>x</span><span class=o>=</span><span class=n>subset_feature_2</span><span class=p>,</span>
</span><span id=__span-4-43><a id=__codelineno-4-43 name=__codelineno-4-43 href=#__codelineno-4-43></a>                <span class=n>name</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>category_</span><span class=p>)</span> <span class=o>+</span> <span class=s1>' Histogram'</span><span class=p>,</span>
</span><span id=__span-4-44><a id=__codelineno-4-44 name=__codelineno-4-44 href=#__codelineno-4-44></a>            <span class=p>),</span>
</span><span id=__span-4-45><a id=__codelineno-4-45 name=__codelineno-4-45 href=#__codelineno-4-45></a>            <span class=n>row</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-4-46><a id=__codelineno-4-46 name=__codelineno-4-46 href=#__codelineno-4-46></a>        <span class=p>)</span>
</span><span id=__span-4-47><a id=__codelineno-4-47 name=__codelineno-4-47 href=#__codelineno-4-47></a>        <span class=c1># Add Boxplot</span>
</span><span id=__span-4-48><a id=__codelineno-4-48 name=__codelineno-4-48 href=#__codelineno-4-48></a>        <span class=c1># Need to create an array that is similar to the array used in subset_feature_2, to name the traces!</span>
</span><span id=__span-4-49><a id=__codelineno-4-49 name=__codelineno-4-49 href=#__codelineno-4-49></a>        <span class=n>xo</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>category_</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>subset_feature_2</span><span class=p>))]</span>
</span><span id=__span-4-50><a id=__codelineno-4-50 name=__codelineno-4-50 href=#__codelineno-4-50></a>        <span class=n>fig</span><span class=o>.</span><span class=n>add_trace</span><span class=p>(</span>
</span><span id=__span-4-51><a id=__codelineno-4-51 name=__codelineno-4-51 href=#__codelineno-4-51></a>            <span class=n>go</span><span class=o>.</span><span class=n>Box</span><span class=p>(</span>
</span><span id=__span-4-52><a id=__codelineno-4-52 name=__codelineno-4-52 href=#__codelineno-4-52></a>                <span class=n>y</span><span class=o>=</span><span class=n>subset_feature_2</span><span class=p>,</span> <span class=n>x</span><span class=o>=</span><span class=n>xo</span><span class=p>,</span>
</span><span id=__span-4-53><a id=__codelineno-4-53 name=__codelineno-4-53 href=#__codelineno-4-53></a>                <span class=n>name</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>category_</span><span class=p>)</span> <span class=o>+</span> <span class=s1>' Box'</span><span class=p>,</span>
</span><span id=__span-4-54><a id=__codelineno-4-54 name=__codelineno-4-54 href=#__codelineno-4-54></a>            <span class=p>),</span>
</span><span id=__span-4-55><a id=__codelineno-4-55 name=__codelineno-4-55 href=#__codelineno-4-55></a>            <span class=n>row</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-4-56><a id=__codelineno-4-56 name=__codelineno-4-56 href=#__codelineno-4-56></a>        <span class=p>)</span>
</span><span id=__span-4-57><a id=__codelineno-4-57 name=__codelineno-4-57 href=#__codelineno-4-57></a>
</span><span id=__span-4-58><a id=__codelineno-4-58 name=__codelineno-4-58 href=#__codelineno-4-58></a>        <span class=c1># Add Bar</span>
</span><span id=__span-4-59><a id=__codelineno-4-59 name=__codelineno-4-59 href=#__codelineno-4-59></a>        <span class=n>fig</span><span class=o>.</span><span class=n>add_trace</span><span class=p>(</span>
</span><span id=__span-4-60><a id=__codelineno-4-60 name=__codelineno-4-60 href=#__codelineno-4-60></a>            <span class=n>go</span><span class=o>.</span><span class=n>Bar</span><span class=p>(</span>
</span><span id=__span-4-61><a id=__codelineno-4-61 name=__codelineno-4-61 href=#__codelineno-4-61></a>                <span class=n>x</span><span class=o>=</span><span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>category_</span><span class=p>)],</span> <span class=n>y</span><span class=o>=</span><span class=p>[</span><span class=n>avg</span><span class=p>],</span>
</span><span id=__span-4-62><a id=__codelineno-4-62 name=__codelineno-4-62 href=#__codelineno-4-62></a>                <span class=n>text</span><span class=o>=</span><span class=s1>'&lt;b&gt;</span><span class=si>{}</span><span class=s1>&lt;b&gt;'</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>avg</span><span class=p>),</span>
</span><span id=__span-4-63><a id=__codelineno-4-63 name=__codelineno-4-63 href=#__codelineno-4-63></a>                <span class=n>textposition</span><span class=o>=</span><span class=s1>'outside'</span><span class=p>,</span>
</span><span id=__span-4-64><a id=__codelineno-4-64 name=__codelineno-4-64 href=#__codelineno-4-64></a>                <span class=n>name</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>category_</span><span class=p>)</span> <span class=o>+</span> <span class=s1>' Bar'</span><span class=p>,</span>
</span><span id=__span-4-65><a id=__codelineno-4-65 name=__codelineno-4-65 href=#__codelineno-4-65></a>                <span class=n>textfont</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-4-66><a id=__codelineno-4-66 name=__codelineno-4-66 href=#__codelineno-4-66></a>                    <span class=n>family</span><span class=o>=</span><span class=s1>'sans serif'</span><span class=p>,</span>
</span><span id=__span-4-67><a id=__codelineno-4-67 name=__codelineno-4-67 href=#__codelineno-4-67></a>                    <span class=n>size</span><span class=o>=</span><span class=mi>18</span><span class=p>,</span>
</span><span id=__span-4-68><a id=__codelineno-4-68 name=__codelineno-4-68 href=#__codelineno-4-68></a>                    <span class=n>color</span><span class=o>=</span><span class=s1>'#1f77b4'</span>
</span><span id=__span-4-69><a id=__codelineno-4-69 name=__codelineno-4-69 href=#__codelineno-4-69></a>                <span class=p>)</span>
</span><span id=__span-4-70><a id=__codelineno-4-70 name=__codelineno-4-70 href=#__codelineno-4-70></a>            <span class=p>),</span>
</span><span id=__span-4-71><a id=__codelineno-4-71 name=__codelineno-4-71 href=#__codelineno-4-71></a>            <span class=n>row</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-4-72><a id=__codelineno-4-72 name=__codelineno-4-72 href=#__codelineno-4-72></a>        <span class=p>)</span>
</span><span id=__span-4-73><a id=__codelineno-4-73 name=__codelineno-4-73 href=#__codelineno-4-73></a>
</span><span id=__span-4-74><a id=__codelineno-4-74 name=__codelineno-4-74 href=#__codelineno-4-74></a>    <span class=c1># Update xaxis properties</span>
</span><span id=__span-4-75><a id=__codelineno-4-75 name=__codelineno-4-75 href=#__codelineno-4-75></a>    <span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span>
</span><span id=__span-4-76><a id=__codelineno-4-76 name=__codelineno-4-76 href=#__codelineno-4-76></a>        <span class=n>title_text</span><span class=o>=</span><span class=s1>'&lt;b&gt;</span><span class=si>{}</span><span class=s1>&lt;b&gt;'</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>histogram_xaxis_title</span><span class=p>)),</span> <span class=n>row</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-4-77><a id=__codelineno-4-77 name=__codelineno-4-77 href=#__codelineno-4-77></a>    <span class=p>)</span>
</span><span id=__span-4-78><a id=__codelineno-4-78 name=__codelineno-4-78 href=#__codelineno-4-78></a>    <span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span>
</span><span id=__span-4-79><a id=__codelineno-4-79 name=__codelineno-4-79 href=#__codelineno-4-79></a>        <span class=n>title_text</span><span class=o>=</span><span class=s1>'&lt;b&gt;</span><span class=si>{}</span><span class=s1>&lt;b&gt;'</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>feature_1_title</span><span class=p>)),</span> <span class=n>row</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-4-80><a id=__codelineno-4-80 name=__codelineno-4-80 href=#__codelineno-4-80></a>    <span class=p>)</span>
</span><span id=__span-4-81><a id=__codelineno-4-81 name=__codelineno-4-81 href=#__codelineno-4-81></a>    <span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span>
</span><span id=__span-4-82><a id=__codelineno-4-82 name=__codelineno-4-82 href=#__codelineno-4-82></a>        <span class=n>title_text</span><span class=o>=</span><span class=s1>'&lt;b&gt;</span><span class=si>{}</span><span class=s1>&lt;b&gt;'</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>feature_1_title</span><span class=p>)),</span> <span class=n>row</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-4-83><a id=__codelineno-4-83 name=__codelineno-4-83 href=#__codelineno-4-83></a>    <span class=p>)</span>
</span><span id=__span-4-84><a id=__codelineno-4-84 name=__codelineno-4-84 href=#__codelineno-4-84></a>
</span><span id=__span-4-85><a id=__codelineno-4-85 name=__codelineno-4-85 href=#__codelineno-4-85></a>    <span class=c1># Update yaxis properties</span>
</span><span id=__span-4-86><a id=__codelineno-4-86 name=__codelineno-4-86 href=#__codelineno-4-86></a>    <span class=n>fig</span><span class=o>.</span><span class=n>update_yaxes</span><span class=p>(</span>
</span><span id=__span-4-87><a id=__codelineno-4-87 name=__codelineno-4-87 href=#__codelineno-4-87></a>        <span class=n>title_text</span><span class=o>=</span><span class=s1>'&lt;b&gt;Count&lt;b&gt;'</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=nb>type</span> <span class=o>=</span> <span class=s1>'log'</span>
</span><span id=__span-4-88><a id=__codelineno-4-88 name=__codelineno-4-88 href=#__codelineno-4-88></a>    <span class=p>)</span>
</span><span id=__span-4-89><a id=__codelineno-4-89 name=__codelineno-4-89 href=#__codelineno-4-89></a>    <span class=n>fig</span><span class=o>.</span><span class=n>update_yaxes</span><span class=p>(</span>
</span><span id=__span-4-90><a id=__codelineno-4-90 name=__codelineno-4-90 href=#__codelineno-4-90></a>        <span class=n>title_text</span><span class=o>=</span><span class=s1>'&lt;b&gt;</span><span class=si>{}</span><span class=s1>&lt;b&gt;'</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>feature_2_title</span><span class=p>)),</span> <span class=n>row</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=nb>type</span> <span class=o>=</span><span class=s1>'log'</span>
</span><span id=__span-4-91><a id=__codelineno-4-91 name=__codelineno-4-91 href=#__codelineno-4-91></a>    <span class=p>)</span>
</span><span id=__span-4-92><a id=__codelineno-4-92 name=__codelineno-4-92 href=#__codelineno-4-92></a>    <span class=n>fig</span><span class=o>.</span><span class=n>update_yaxes</span><span class=p>(</span>
</span><span id=__span-4-93><a id=__codelineno-4-93 name=__codelineno-4-93 href=#__codelineno-4-93></a>        <span class=n>title_text</span><span class=o>=</span><span class=s1>'&lt;b&gt;</span><span class=si>{}</span><span class=s1>&lt;b&gt;'</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>feature_2_title</span><span class=p>)),</span>
</span><span id=__span-4-94><a id=__codelineno-4-94 name=__codelineno-4-94 href=#__codelineno-4-94></a>        <span class=nb>range</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>125</span><span class=p>],</span> <span class=n>row</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-4-95><a id=__codelineno-4-95 name=__codelineno-4-95 href=#__codelineno-4-95></a>    <span class=p>)</span>
</span><span id=__span-4-96><a id=__codelineno-4-96 name=__codelineno-4-96 href=#__codelineno-4-96></a>
</span><span id=__span-4-97><a id=__codelineno-4-97 name=__codelineno-4-97 href=#__codelineno-4-97></a>    <span class=c1># Update subplot title sizes</span>
</span><span id=__span-4-98><a id=__codelineno-4-98 name=__codelineno-4-98 href=#__codelineno-4-98></a>    <span class=n>fig</span><span class=o>.</span><span class=n>update_annotations</span><span class=p>(</span>
</span><span id=__span-4-99><a id=__codelineno-4-99 name=__codelineno-4-99 href=#__codelineno-4-99></a>        <span class=n>font_size</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span>
</span><span id=__span-4-100><a id=__codelineno-4-100 name=__codelineno-4-100 href=#__codelineno-4-100></a>    <span class=p>)</span>
</span><span id=__span-4-101><a id=__codelineno-4-101 name=__codelineno-4-101 href=#__codelineno-4-101></a>
</span><span id=__span-4-102><a id=__codelineno-4-102 name=__codelineno-4-102 href=#__codelineno-4-102></a>    <span class=c1># Update title and height</span>
</span><span id=__span-4-103><a id=__codelineno-4-103 name=__codelineno-4-103 href=#__codelineno-4-103></a>    <span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span>
</span><span id=__span-4-104><a id=__codelineno-4-104 name=__codelineno-4-104 href=#__codelineno-4-104></a>        <span class=n>title_text</span><span class=o>=</span><span class=s2>"&lt;b&gt;Distributions of </span><span class=si>{}</span><span class=s2> for </span><span class=si>{}</span><span class=s2>&lt;b&gt;"</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
</span><span id=__span-4-105><a id=__codelineno-4-105 name=__codelineno-4-105 href=#__codelineno-4-105></a>            <span class=n>feature_2_title</span><span class=p>,</span> <span class=n>feature_1_title</span><span class=p>),</span>
</span><span id=__span-4-106><a id=__codelineno-4-106 name=__codelineno-4-106 href=#__codelineno-4-106></a>        <span class=n>height</span><span class=o>=</span><span class=mi>750</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>
</span><span id=__span-4-107><a id=__codelineno-4-107 name=__codelineno-4-107 href=#__codelineno-4-107></a>        <span class=n>font</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-4-108><a id=__codelineno-4-108 name=__codelineno-4-108 href=#__codelineno-4-108></a>            <span class=n>family</span><span class=o>=</span><span class=s2>"Courier New, monospace"</span><span class=p>,</span>
</span><span id=__span-4-109><a id=__codelineno-4-109 name=__codelineno-4-109 href=#__codelineno-4-109></a>            <span class=n>size</span><span class=o>=</span><span class=mi>16</span><span class=p>,</span>
</span><span id=__span-4-110><a id=__codelineno-4-110 name=__codelineno-4-110 href=#__codelineno-4-110></a>        <span class=p>)</span>
</span><span id=__span-4-111><a id=__codelineno-4-111 name=__codelineno-4-111 href=#__codelineno-4-111></a>    <span class=p>)</span>
</span><span id=__span-4-112><a id=__codelineno-4-112 name=__codelineno-4-112 href=#__codelineno-4-112></a>
</span><span id=__span-4-113><a id=__codelineno-4-113 name=__codelineno-4-113 href=#__codelineno-4-113></a>    <span class=k>return</span> <span class=n>fig</span>
</span></code></pre></div> <h3 id=feature-functions>Feature Functions<a class=headerlink href=#feature-functions title="Permanent link">¶</a></h3> <p>These are helper functions designed to preprocess features, preparing them to be used in the previous visaulization functions. </p> <p>They are split into separate sections for specific features:</p> <ul> <li>Article</li> <li>User</li> <li>Topic </li> </ul> <p>The following code snippet demonstrates a function that will populate a dictionary.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>def</span><span class=w> </span><span class=nf>populate_dict</span><span class=p>(</span><span class=n>list_</span><span class=p>,</span> <span class=n>dict_</span><span class=p>):</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=sd>""" </span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=sd>    Populates the dict from list indices</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=sd>    Keyword arguments:</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=sd>        list_--  list</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=sd>        dict_ -- dict: </span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=sd>    Output: </span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=sd>        None</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=sd>    """</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>    <span class=c1># Iterate through each list index and append the index as a key </span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>    <span class=k>for</span> <span class=n>idx</span> <span class=ow>in</span> <span class=n>list_</span><span class=p>:</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>        <span class=k>if</span> <span class=n>idx</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>dict_</span><span class=p>:</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>            <span class=n>dict_</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>            <span class=n>dict_</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></code></pre></div> <h2 id=feature-analysis>Feature Analysis<a class=headerlink href=#feature-analysis title="Permanent link">¶</a></h2> <p>We aim to gain insights into which features we can utilize for our recommendation system. This analysis will be brief. For more information, check out the <a href=https://github.com/SulmanK/2024-Recsys-Challenge/blob/main/2024_Recsys_Challenge_EDA.ipynb>notebook</a> which contains more in-depth feature analysis.</p> <h3 id=main-questions>Main Questions:<a class=headerlink href=#main-questions title="Permanent link">¶</a></h3> <p>These are questions we seek to address by the end of this analysis.</p> <div class="admonition question"> <p class=admonition-title>What features provide details about an article?</p> <ul> <li>Topic</li> <li>Read Time</li> <li>Scroll Percentage</li> </ul> </div> <div class="admonition question"> <p class=admonition-title>What is the behavior of the following features?</p> <ul> <li>Article</li> <li>User</li> <li>Session</li> <li>Devices</li> <li>Ages</li> <li>Postcodes</li> </ul> </div> <div class="admonition question"> <p class=admonition-title>Explain the activity of our users (activity across a time period)? Segment it based on our categorical features such as ages, devices, gender, and postcodes.</p> <ul> <li>Daily</li> <li>Hourly</li> <li>Weekly</li> <li>Day of the week</li> </ul> </div> <div class="admonition question"> <p class=admonition-title>Describe the topic distribution across our categorical features such as ages, devices, and postcodes?</p> </div> <h3 id=overall-feature-analysis>Overall Feature Analysis<a class=headerlink href=#overall-feature-analysis title="Permanent link">¶</a></h3> <div class="admonition question"> <p class=admonition-title>How many impressions are there in total?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There are 70421 impressions in this data. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1># Number of Impressions</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=n>single_subset_bar</span><span class=p>(</span><span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'impression_id'</span><span class=p>,</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>                <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'Number of Impressions'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>80000</span><span class=p>])</span>
</span></code></pre></div><p></p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/numberofimpressionstest.png data-desc-position=bottom><img alt src=../../../../img/numberofimpressionstest.png></a></p> </div> <div class="admonition question"> <p class=admonition-title>What does the distribution of read times look like?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>Long-tailed distribution. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># Distribution of Read Times</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=n>single_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'read_time'</span><span class=p>,</span> <span class=n>data_title</span><span class=o>=</span><span class=s1>'All Users'</span><span class=p>,</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>    <span class=n>feature_title</span><span class=o>=</span><span class=s1>'Read Time(s)'</span><span class=p>,</span> <span class=n>histogram_xaxis_title</span><span class=o>=</span><span class=s1>'Read Time(s)'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/rtforallimpressions.png data-desc-position=bottom><img alt src=../../../../img/rtforallimpressions.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>How is the distribution of scroll percentages represented?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>Long-tailed distribution. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1># Distribution of Scroll Percentages</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=n>single_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'scroll_percentage'</span><span class=p>,</span> <span class=n>data_title</span><span class=o>=</span><span class=s1>'All Users'</span><span class=p>,</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>    <span class=n>feature_title</span><span class=o>=</span><span class=s1>'Scroll Percentage(%)'</span><span class=p>,</span> <span class=n>histogram_xaxis_title</span><span class=o>=</span><span class=s1>'Scroll Percentage(%)'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/spforallimpressions.png data-desc-position=bottom><img alt src=../../../../img/spforallimpressions.png></a><p></p> </div> <h3 id=article>Article<a class=headerlink href=#article title="Permanent link">¶</a></h3> <div class="admonition question"> <p class=admonition-title>What is the total number of articles?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There are 1723 articles. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1># Total Number of Articles</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=n>single_subset_bar</span><span class=p>(</span><span class=n>df_</span> <span class=o>=</span> <span class=n>df</span><span class=p>,</span> <span class=n>feature_</span> <span class=o>=</span> <span class=s1>'article_id'</span><span class=p>,</span> <span class=n>xaxis_title</span> <span class=o>=</span> <span class=s1>'Number of Articles'</span><span class=p>,</span> <span class=n>yrange</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2000</span><span class=p>])</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/numberofarticles.png data-desc-position=bottom><img alt src=../../../../img/numberofarticles.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>How many unique articles are clicked in a single session?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There is a distribution starting from 1 to 19 articles clicked in a single session.</p> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1># How many unique articles are clicked in a session?</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=c1># Group by sessions and get the article ids</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=n>tmp_aps</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>'session_id'</span><span class=p>)[</span><span class=s1>'article_id'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=c1># Create a dict to store the count of articles per session</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=n>articles_per_session</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=mi>0</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>20</span><span class=p>)}</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=c1># Iterate through our list previously, and record the number of articles in a session to our res dict</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>tmp_aps</span><span class=p>:</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>    <span class=n>num_articles</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>    <span class=n>articles_per_session</span><span class=p>[</span><span class=n>num_articles</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=c1># Set as our indices / values for plot</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=n>k</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>articles_per_session</span><span class=o>.</span><span class=n>keys</span><span class=p>()]</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>k</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>articles_per_session</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a><span class=c1># Plot</span>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a><span class=n>plot_bar</span><span class=p>(</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>    <span class=n>indices_</span><span class=o>=</span><span class=n>indices</span><span class=p>,</span> <span class=n>values_</span><span class=o>=</span><span class=n>values</span><span class=p>,</span>
</span><span id=__span-10-21><a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a>    <span class=n>yrange_</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'Number of Articles '</span><span class=p>,</span>
</span><span id=__span-10-22><a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a>    <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'Count'</span><span class=p>,</span> <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt; Number of Articles clicked in a session&lt;b&gt;'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/numberofarticlesclickedinasession.png data-desc-position=bottom><img alt src=../../../../img/numberofarticlesclickedinasession.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What is the average read time and scroll percentage for each article?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1># Get the average readtime and scroll percentages for all articles!</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=c1># Unique User Ids</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=n>unique_user_ids</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'user_id'</span><span class=p>]</span><span class=o>.</span><span class=n>values</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>1000</span><span class=p>]</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=c1># We take the set because the scroll, article per user is joined in a list for every user id (so just take the set of it!)</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=n>unique_user_ids</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>unique_user_ids</span><span class=p>)</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=c1># Unique Article Ids</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=n>unique_article_ids</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'article_id'</span><span class=p>]</span><span class=o>.</span><span class=n>unique</span><span class=p>()</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=n>unique_article_ids</span> <span class=o>=</span> <span class=n>unique_article_ids</span><span class=p>[</span><span class=o>~</span><span class=n>np</span><span class=o>.</span><span class=n>isnan</span><span class=p>(</span><span class=n>unique_article_ids</span><span class=p>)]</span>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=c1># Create dictionaries</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=n>unique_article_read</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>unique_article_ids</span><span class=p>}</span>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=n>unique_article_read_avg</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>unique_article_ids</span><span class=p>}</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=n>unique_article_scroll</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>unique_article_ids</span><span class=p>}</span>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=n>unique_article_scroll_avg</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>unique_article_ids</span><span class=p>}</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a><span class=c1># Iterate across each user id</span>
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a><span class=k>for</span> <span class=nb>id</span> <span class=ow>in</span> <span class=n>unique_user_ids</span><span class=p>:</span>
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>    <span class=c1># Get the subset of that user id</span>
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a>    <span class=n>tmp_df</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>df</span><span class=p>[</span><span class=s1>'user_id'</span><span class=p>]</span> <span class=o>==</span> <span class=nb>id</span><span class=p>]</span>
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>    <span class=c1># Now lets go through each scroll and article</span>
</span><span id=__span-11-21><a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a>    <span class=n>indices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>tmp_df</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-11-22><a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>indices</span><span class=p>:</span>
</span><span id=__span-11-23><a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a>        <span class=n>tmp_dict</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-11-24><a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a>        <span class=c1># Select the scroll / article of that indice and</span>
</span><span id=__span-11-25><a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a>        <span class=n>tmp_read</span> <span class=o>=</span> <span class=n>tmp_df</span><span class=p>[</span><span class=s1>'read_time_fixed'</span><span class=p>][</span><span class=n>i</span><span class=p>]</span>
</span><span id=__span-11-26><a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>        <span class=n>tmp_article</span> <span class=o>=</span> <span class=n>tmp_df</span><span class=p>[</span><span class=s1>'article_id_fixed'</span><span class=p>][</span><span class=n>i</span><span class=p>]</span>
</span><span id=__span-11-27><a id=__codelineno-11-27 name=__codelineno-11-27 href=#__codelineno-11-27></a>        <span class=n>tmp_scroll</span> <span class=o>=</span> <span class=n>tmp_df</span><span class=p>[</span><span class=s1>'scroll_percentage_fixed'</span><span class=p>][</span><span class=n>i</span><span class=p>]</span>
</span><span id=__span-11-28><a id=__codelineno-11-28 name=__codelineno-11-28 href=#__codelineno-11-28></a>        <span class=c1># Create list objects for article, read, scroll</span>
</span><span id=__span-11-29><a id=__codelineno-11-29 name=__codelineno-11-29 href=#__codelineno-11-29></a>        <span class=n>read</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>tmp_read</span><span class=p>]</span>
</span><span id=__span-11-30><a id=__codelineno-11-30 name=__codelineno-11-30 href=#__codelineno-11-30></a>        <span class=n>scroll</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>tmp_scroll</span><span class=p>]</span>
</span><span id=__span-11-31><a id=__codelineno-11-31 name=__codelineno-11-31 href=#__codelineno-11-31></a>        <span class=n>articles</span> <span class=o>=</span> <span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>int64</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>tmp_article</span><span class=p>]</span>
</span><span id=__span-11-32><a id=__codelineno-11-32 name=__codelineno-11-32 href=#__codelineno-11-32></a>        <span class=c1># Populate our unique_article_read dictionary based on the results found in our previous list objects</span>
</span><span id=__span-11-33><a id=__codelineno-11-33 name=__codelineno-11-33 href=#__codelineno-11-33></a>        <span class=n>tmp_articles_read</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>articles</span><span class=p>,</span> <span class=n>read</span><span class=p>)}</span>
</span><span id=__span-11-34><a id=__codelineno-11-34 name=__codelineno-11-34 href=#__codelineno-11-34></a>        <span class=n>article_id_read_scroll</span><span class=p>(</span><span class=n>tmp_articles_read</span><span class=p>,</span> <span class=n>unique_article_read</span><span class=p>)</span>
</span><span id=__span-11-35><a id=__codelineno-11-35 name=__codelineno-11-35 href=#__codelineno-11-35></a>        <span class=c1># Populate our unique_article_scroll dictionary based on the results found in our previous list objects</span>
</span><span id=__span-11-36><a id=__codelineno-11-36 name=__codelineno-11-36 href=#__codelineno-11-36></a>        <span class=n>tmp_articles_scroll</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>articles</span><span class=p>,</span> <span class=n>scroll</span><span class=p>)}</span>
</span><span id=__span-11-37><a id=__codelineno-11-37 name=__codelineno-11-37 href=#__codelineno-11-37></a>        <span class=n>article_id_read_scroll</span><span class=p>(</span><span class=n>tmp_articles_scroll</span><span class=p>,</span> <span class=n>unique_article_scroll</span><span class=p>)</span>
</span><span id=__span-11-38><a id=__codelineno-11-38 name=__codelineno-11-38 href=#__codelineno-11-38></a>
</span><span id=__span-11-39><a id=__codelineno-11-39 name=__codelineno-11-39 href=#__codelineno-11-39></a><span class=c1># Get the average scroll percentage and read times for each article</span>
</span><span id=__span-11-40><a id=__codelineno-11-40 name=__codelineno-11-40 href=#__codelineno-11-40></a><span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>unique_article_read</span><span class=o>.</span><span class=n>keys</span><span class=p>(),</span> <span class=n>unique_article_read</span><span class=o>.</span><span class=n>values</span><span class=p>()):</span>
</span><span id=__span-11-41><a id=__codelineno-11-41 name=__codelineno-11-41 href=#__codelineno-11-41></a>    <span class=n>unique_article_read_avg</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
</span><span id=__span-11-42><a id=__codelineno-11-42 name=__codelineno-11-42 href=#__codelineno-11-42></a><span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>unique_article_scroll</span><span class=o>.</span><span class=n>keys</span><span class=p>(),</span> <span class=n>unique_article_scroll</span><span class=o>.</span><span class=n>values</span><span class=p>()):</span>
</span><span id=__span-11-43><a id=__codelineno-11-43 name=__codelineno-11-43 href=#__codelineno-11-43></a>    <span class=n>unique_article_scroll_avg</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
</span></code></pre></div> <h4 id=average-read-time>Average Read Time<a class=headerlink href=#average-read-time title="Permanent link">¶</a></h4> <p>The average reading time spans from 0 to 43.29 seconds, with outliers extending beyond this range. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1># Distribution of Read Times for each Article</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=c1>## Indices / Values</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=s1>'&lt;b&gt;All Unique Articles&lt;b&gt;'</span><span class=p>]</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_article_read_avg</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=c1>## Plot</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=n>plot_box</span><span class=p>(</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>    <span class=n>indices_</span><span class=o>=</span><span class=n>indices</span><span class=p>,</span> <span class=n>values_</span><span class=o>=</span><span class=p>[</span><span class=n>values</span><span class=p>],</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>    <span class=n>yrange_</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>''</span><span class=p>,</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>    <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'Read Time(s)'</span><span class=p>,</span> <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt; Distributions of Read Times Across All Articles&lt;b&gt;'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/rtforarticles.png data-desc-position=bottom><img alt src=../../../../img/rtforarticles.png></a><p></p> <h4 id=average-scroll-percentage>Average Scroll Percentage<a class=headerlink href=#average-scroll-percentage title="Permanent link">¶</a></h4> <p>The average scroll percentage ranges from 0 - 100%. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1># Distribution of Scroll Percentages for each Article</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=c1>## Indices / Values</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=s1>'&lt;b&gt;All Unique Articles&lt;b&gt;'</span><span class=p>]</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_article_scroll_avg</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=c1>## Plot</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=n>plot_box</span><span class=p>(</span>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>    <span class=n>indices_</span><span class=o>=</span><span class=n>indices</span><span class=p>,</span> <span class=n>values_</span><span class=o>=</span><span class=p>[</span><span class=n>values</span><span class=p>],</span>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a>    <span class=n>yrange_</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>''</span><span class=p>,</span>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a>    <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'Scroll Percentage (%)'</span><span class=p>,</span> <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt; Distributions of Scroll Percentage Across All Articles&lt;b&gt;'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/spforarticles.png data-desc-position=bottom><img alt src=../../../../img/spforarticles.png></a><p></p> </div> <h3 id=user>User<a class=headerlink href=#user title="Permanent link">¶</a></h3> <div class="admonition question"> <p class=admonition-title>What is the total number of users?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There are 9194 users. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># Total Number of Users</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=n>single_subset_bar</span><span class=p>(</span><span class=n>df_</span> <span class=o>=</span> <span class=n>df</span><span class=p>,</span> <span class=n>feature_</span> <span class=o>=</span> <span class=s1>'user_id'</span><span class=p>,</span> <span class=n>xaxis_title</span> <span class=o>=</span> <span class=s1>'Number of Users'</span><span class=p>,</span> <span class=n>yrange</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>11000</span><span class=p>])</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/totalnumberofusers.png data-desc-position=bottom><img alt src=../../../../img/totalnumberofusers.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>Describe the behavior of daily user growth?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There are significant peaks observed in the first three dates, followed by a tapering off in the subsequent dates. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1># Record the daily user growth</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=n>unique_user_ids</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'user_id'</span><span class=p>]</span><span class=o>.</span><span class=n>unique</span><span class=p>()</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=c1># Create dictionaries</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=n>unique_users_daily_growth_freq</span><span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=n>unique_users_hourly_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=n>unique_users_dayofweek_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=n>unique_users_weekly_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=c1># Iterate through each user id and record the number of unique users present!</span>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=k>for</span> <span class=nb>id</span> <span class=ow>in</span> <span class=n>unique_user_ids</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>1000</span><span class=p>]:</span>
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a>    <span class=c1># Get the subset of that user id</span>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a>    <span class=n>tmp_df</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>df</span><span class=p>[</span><span class=s1>'user_id'</span><span class=p>]</span> <span class=o>==</span> <span class=nb>id</span><span class=p>]</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a>    <span class=c1># Get the first index of that impression time</span>
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a>    <span class=n>first_index</span> <span class=o>=</span> <span class=n>tmp_df</span><span class=p>[</span><span class=s1>'impression_time_fixed'</span><span class=p>]</span><span class=o>.</span><span class=n>index</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a>    <span class=c1># Record that join_date </span>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a>    <span class=n>tmp_datetime</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DatetimeIndex</span><span class=p>(</span><span class=n>tmp_df</span><span class=p>[</span><span class=s1>'impression_time_fixed'</span><span class=p>][</span><span class=n>first_index</span><span class=p>])</span>
</span><span id=__span-15-18><a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a>    <span class=n>tmp_date</span> <span class=o>=</span> <span class=n>tmp_datetime</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>date</span><span class=p>()</span>
</span><span id=__span-15-19><a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a>    <span class=n>join_date</span> <span class=o>=</span> <span class=n>tmp_date</span>
</span><span id=__span-15-20><a id=__codelineno-15-20 name=__codelineno-15-20 href=#__codelineno-15-20></a>    <span class=c1># Populate our unique_user_daily_growth</span>
</span><span id=__span-15-21><a id=__codelineno-15-21 name=__codelineno-15-21 href=#__codelineno-15-21></a>    <span class=k>if</span> <span class=n>join_date</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>unique_users_daily_growth_freq</span><span class=p>:</span>
</span><span id=__span-15-22><a id=__codelineno-15-22 name=__codelineno-15-22 href=#__codelineno-15-22></a>        <span class=n>unique_users_daily_growth_freq</span><span class=p>[</span><span class=n>join_date</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-15-23><a id=__codelineno-15-23 name=__codelineno-15-23 href=#__codelineno-15-23></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-15-24><a id=__codelineno-15-24 name=__codelineno-15-24 href=#__codelineno-15-24></a>        <span class=n>unique_users_daily_growth_freq</span><span class=p>[</span><span class=n>join_date</span><span class=p>]</span> <span class=o>+=</span><span class=mi>1</span>
</span><span id=__span-15-25><a id=__codelineno-15-25 name=__codelineno-15-25 href=#__codelineno-15-25></a>
</span><span id=__span-15-26><a id=__codelineno-15-26 name=__codelineno-15-26 href=#__codelineno-15-26></a><span class=c1># Sort our dict</span>
</span><span id=__span-15-27><a id=__codelineno-15-27 name=__codelineno-15-27 href=#__codelineno-15-27></a><span class=n>unique_users_daily_growth_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>unique_users_daily_growth_freq</span><span class=o>.</span><span class=n>items</span><span class=p>()))</span>
</span><span id=__span-15-28><a id=__codelineno-15-28 name=__codelineno-15-28 href=#__codelineno-15-28></a>
</span><span id=__span-15-29><a id=__codelineno-15-29 name=__codelineno-15-29 href=#__codelineno-15-29></a>
</span><span id=__span-15-30><a id=__codelineno-15-30 name=__codelineno-15-30 href=#__codelineno-15-30></a><span class=c1># Indices / Values for Plot</span>
</span><span id=__span-15-31><a id=__codelineno-15-31 name=__codelineno-15-31 href=#__codelineno-15-31></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_daily_growth_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>()]</span>
</span><span id=__span-15-32><a id=__codelineno-15-32 name=__codelineno-15-32 href=#__codelineno-15-32></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_daily_growth_freq</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-15-33><a id=__codelineno-15-33 name=__codelineno-15-33 href=#__codelineno-15-33></a><span class=c1># Plot</span>
</span><span id=__span-15-34><a id=__codelineno-15-34 name=__codelineno-15-34 href=#__codelineno-15-34></a><span class=n>plot_bar</span><span class=p>(</span><span class=n>indices_</span><span class=o>=</span><span class=n>indices</span><span class=p>,</span> <span class=n>values_</span><span class=o>=</span><span class=n>values</span><span class=p>,</span> <span class=n>yrange_</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-15-35><a id=__codelineno-15-35 name=__codelineno-15-35 href=#__codelineno-15-35></a>        <span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'&lt;b&gt;Dates&lt;b&gt;'</span><span class=p>,</span> <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'&lt;b&gt;Count&lt;b&gt;'</span><span class=p>,</span> <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt;Daily User Growth&lt;b&gt;'</span><span class=p>)</span>
</span></code></pre></div><p></p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/dug.png data-desc-position=bottom><img alt src=../../../../img/dug.png></a></p> </div> <div class="admonition question"> <p class=admonition-title>What is the average read time and scroll percentage across each unique user?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <h4 id=read-time>Read Time<a class=headerlink href=#read-time title="Permanent link">¶</a></h4> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1># Read Time per User</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=c1># Group by User and Read Time</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=n>tmp_user_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s1>'user_id'</span><span class=p>)[</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>                        <span class=s1>'read_time'</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>(),</span> <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>'read_time'</span><span class=p>])</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=c1># Plot</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=n>single_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>    <span class=n>df_</span><span class=o>=</span><span class=n>tmp_user_df</span><span class=p>,</span>  <span class=n>feature_</span><span class=o>=</span><span class=s1>'read_time'</span><span class=p>,</span>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>    <span class=n>data_title</span><span class=o>=</span><span class=s1>'Unique Users'</span><span class=p>,</span> <span class=n>feature_title</span> <span class=o>=</span><span class=s1>'Read Time(s)'</span><span class=p>,</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a>    <span class=n>histogram_xaxis_title</span> <span class=o>=</span> <span class=s1>'Read Time(s)'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/artuser.png data-desc-position=bottom><img alt src=../../../../img/artuser.png></a><p></p> <h4 id=scroll-percentage>Scroll Percentage<a class=headerlink href=#scroll-percentage title="Permanent link">¶</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1># Scroll Percentage per User</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=c1># Group by User and Scroll Percentage</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=n>tmp_user_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s1>'user_id'</span><span class=p>)[</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>                        <span class=s1>'scroll_percentage'</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>(),</span> <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>'scroll_percentage'</span><span class=p>])</span>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=c1># Plot</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=n>single_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a>    <span class=n>df_</span><span class=o>=</span><span class=n>tmp_user_df</span><span class=p>,</span>  <span class=n>feature_</span><span class=o>=</span><span class=s1>'scroll_percentage'</span><span class=p>,</span>
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a>    <span class=n>data_title</span><span class=o>=</span><span class=s1>'Unique Users'</span><span class=p>,</span> <span class=n>feature_title</span> <span class=o>=</span><span class=s1>'Scroll Percentage(%)'</span><span class=p>,</span>
</span><span id=__span-17-10><a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a>    <span class=n>histogram_xaxis_title</span> <span class=o>=</span> <span class=s1>'Scroll Percentage(%)'</span><span class=p>)</span>
</span></code></pre></div> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/aspuser.png data-desc-position=bottom><img alt src=../../../../img/aspuser.png></a></p> </div> <div class="admonition question"> <p class=admonition-title>Describe the behavior of user activity?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=c1># Record the daily, hourly, weekly, dayofweek activity across all users</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=c1># Get all unique ids in a list</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=n>unique_user_ids</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'user_id'</span><span class=p>]</span><span class=o>.</span><span class=n>unique</span><span class=p>()[</span><span class=mi>0</span><span class=p>:</span><span class=mi>1000</span><span class=p>]</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a><span class=c1># Create dictionaries</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=n>unique_users_daily_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a><span class=n>unique_users_hourly_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a><span class=n>unique_users_dayofweek_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a><span class=n>unique_users_weekly_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>
</span><span id=__span-18-12><a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a><span class=c1># Iterate through each user id</span>
</span><span id=__span-18-13><a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a><span class=k>for</span> <span class=nb>id</span> <span class=ow>in</span> <span class=n>unique_user_ids</span><span class=p>:</span>
</span><span id=__span-18-14><a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a>    <span class=c1># Get the subset of that user id</span>
</span><span id=__span-18-15><a id=__codelineno-18-15 name=__codelineno-18-15 href=#__codelineno-18-15></a>    <span class=n>tmp_df</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>df</span><span class=p>[</span><span class=s1>'user_id'</span><span class=p>]</span> <span class=o>==</span> <span class=nb>id</span><span class=p>]</span>
</span><span id=__span-18-16><a id=__codelineno-18-16 name=__codelineno-18-16 href=#__codelineno-18-16></a>
</span><span id=__span-18-17><a id=__codelineno-18-17 name=__codelineno-18-17 href=#__codelineno-18-17></a>    <span class=c1># Now lets go through each and populate the unique dates, hours and day of the week for each user</span>
</span><span id=__span-18-18><a id=__codelineno-18-18 name=__codelineno-18-18 href=#__codelineno-18-18></a>    <span class=n>dates</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-18-19><a id=__codelineno-18-19 name=__codelineno-18-19 href=#__codelineno-18-19></a>    <span class=n>hours</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-18-20><a id=__codelineno-18-20 name=__codelineno-18-20 href=#__codelineno-18-20></a>    <span class=n>dayofweek</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-18-21><a id=__codelineno-18-21 name=__codelineno-18-21 href=#__codelineno-18-21></a>    <span class=n>week</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-18-22><a id=__codelineno-18-22 name=__codelineno-18-22 href=#__codelineno-18-22></a>    <span class=n>indices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>tmp_df</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-18-23><a id=__codelineno-18-23 name=__codelineno-18-23 href=#__codelineno-18-23></a>
</span><span id=__span-18-24><a id=__codelineno-18-24 name=__codelineno-18-24 href=#__codelineno-18-24></a>    <span class=c1># Iterate through each index</span>
</span><span id=__span-18-25><a id=__codelineno-18-25 name=__codelineno-18-25 href=#__codelineno-18-25></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>indices</span><span class=p>:</span>
</span><span id=__span-18-26><a id=__codelineno-18-26 name=__codelineno-18-26 href=#__codelineno-18-26></a>        <span class=c1># Store the date, time, dayofweek, and week number</span>
</span><span id=__span-18-27><a id=__codelineno-18-27 name=__codelineno-18-27 href=#__codelineno-18-27></a>        <span class=n>tmp_datetime</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DatetimeIndex</span><span class=p>(</span><span class=n>tmp_df</span><span class=p>[</span><span class=s1>'impression_time_fixed'</span><span class=p>][</span><span class=n>i</span><span class=p>])</span>
</span><span id=__span-18-28><a id=__codelineno-18-28 name=__codelineno-18-28 href=#__codelineno-18-28></a>        <span class=n>tmp_date</span> <span class=o>=</span> <span class=n>tmp_datetime</span><span class=o>.</span><span class=n>date</span>
</span><span id=__span-18-29><a id=__codelineno-18-29 name=__codelineno-18-29 href=#__codelineno-18-29></a>        <span class=n>tmp_time</span> <span class=o>=</span> <span class=n>tmp_datetime</span><span class=o>.</span><span class=n>time</span>
</span><span id=__span-18-30><a id=__codelineno-18-30 name=__codelineno-18-30 href=#__codelineno-18-30></a>        <span class=n>tmp_dayofweek</span> <span class=o>=</span> <span class=n>tmp_datetime</span><span class=o>.</span><span class=n>weekday</span>
</span><span id=__span-18-31><a id=__codelineno-18-31 name=__codelineno-18-31 href=#__codelineno-18-31></a>        <span class=n>tmp_week</span> <span class=o>=</span> <span class=n>tmp_datetime</span><span class=o>.</span><span class=n>isocalendar</span><span class=p>()</span><span class=o>.</span><span class=n>week</span>
</span><span id=__span-18-32><a id=__codelineno-18-32 name=__codelineno-18-32 href=#__codelineno-18-32></a>        <span class=c1># Append our dates, hours, dayofweek, week number</span>
</span><span id=__span-18-33><a id=__codelineno-18-33 name=__codelineno-18-33 href=#__codelineno-18-33></a>        <span class=k>for</span> <span class=n>j</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> <span class=n>l</span><span class=p>,</span> <span class=n>m</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>tmp_date</span><span class=p>,</span> <span class=n>tmp_time</span><span class=p>,</span> <span class=n>tmp_dayofweek</span><span class=p>,</span> <span class=n>tmp_week</span><span class=p>):</span>
</span><span id=__span-18-34><a id=__codelineno-18-34 name=__codelineno-18-34 href=#__codelineno-18-34></a>            <span class=n>dates</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>j</span><span class=p>)</span>
</span><span id=__span-18-35><a id=__codelineno-18-35 name=__codelineno-18-35 href=#__codelineno-18-35></a>            <span class=n>hours</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span><span id=__span-18-36><a id=__codelineno-18-36 name=__codelineno-18-36 href=#__codelineno-18-36></a>            <span class=n>dayofweek</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>l</span><span class=p>)</span>
</span><span id=__span-18-37><a id=__codelineno-18-37 name=__codelineno-18-37 href=#__codelineno-18-37></a>            <span class=n>week</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>m</span><span class=p>)</span>
</span><span id=__span-18-38><a id=__codelineno-18-38 name=__codelineno-18-38 href=#__codelineno-18-38></a>
</span><span id=__span-18-39><a id=__codelineno-18-39 name=__codelineno-18-39 href=#__codelineno-18-39></a>    <span class=c1># Get rid of duplicate values</span>
</span><span id=__span-18-40><a id=__codelineno-18-40 name=__codelineno-18-40 href=#__codelineno-18-40></a>    <span class=n>unique_dates</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>dates</span><span class=p>))</span>
</span><span id=__span-18-41><a id=__codelineno-18-41 name=__codelineno-18-41 href=#__codelineno-18-41></a>    <span class=n>unique_hours</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>hours</span><span class=p>))</span>
</span><span id=__span-18-42><a id=__codelineno-18-42 name=__codelineno-18-42 href=#__codelineno-18-42></a>    <span class=n>unique_dayofweek</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>dayofweek</span><span class=p>))</span>
</span><span id=__span-18-43><a id=__codelineno-18-43 name=__codelineno-18-43 href=#__codelineno-18-43></a>    <span class=n>unique_week</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>week</span><span class=p>))</span>
</span><span id=__span-18-44><a id=__codelineno-18-44 name=__codelineno-18-44 href=#__codelineno-18-44></a>
</span><span id=__span-18-45><a id=__codelineno-18-45 name=__codelineno-18-45 href=#__codelineno-18-45></a>    <span class=c1># Convert to string</span>
</span><span id=__span-18-46><a id=__codelineno-18-46 name=__codelineno-18-46 href=#__codelineno-18-46></a>    <span class=n>unique_hours</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>.</span><span class=n>hour</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_hours</span><span class=p>]</span>
</span><span id=__span-18-47><a id=__codelineno-18-47 name=__codelineno-18-47 href=#__codelineno-18-47></a>    <span class=n>unique_hours</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=o>+</span> <span class=s1>':00'</span> <span class=k>if</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>9</span> <span class=k>else</span> <span class=nb>str</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=o>+</span>
</span><span id=__span-18-48><a id=__codelineno-18-48 name=__codelineno-18-48 href=#__codelineno-18-48></a>                    <span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=o>+</span> <span class=s1>':00'</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>unique_hours</span><span class=p>]</span>
</span><span id=__span-18-49><a id=__codelineno-18-49 name=__codelineno-18-49 href=#__codelineno-18-49></a>
</span><span id=__span-18-50><a id=__codelineno-18-50 name=__codelineno-18-50 href=#__codelineno-18-50></a>    <span class=c1># Convert the week int to mapping from 1++</span>
</span><span id=__span-18-51><a id=__codelineno-18-51 name=__codelineno-18-51 href=#__codelineno-18-51></a>    <span class=n>unique_week</span> <span class=o>=</span> <span class=n>weekly_map</span><span class=p>(</span><span class=n>unique_week</span><span class=p>)</span>
</span><span id=__span-18-52><a id=__codelineno-18-52 name=__codelineno-18-52 href=#__codelineno-18-52></a>
</span><span id=__span-18-53><a id=__codelineno-18-53 name=__codelineno-18-53 href=#__codelineno-18-53></a>    <span class=c1># Populate dicts</span>
</span><span id=__span-18-54><a id=__codelineno-18-54 name=__codelineno-18-54 href=#__codelineno-18-54></a>    <span class=n>populate_dict</span><span class=p>(</span><span class=n>list_</span><span class=o>=</span><span class=n>unique_dates</span><span class=p>,</span> <span class=n>dict_</span><span class=o>=</span><span class=n>unique_users_daily_freq</span><span class=p>)</span>
</span><span id=__span-18-55><a id=__codelineno-18-55 name=__codelineno-18-55 href=#__codelineno-18-55></a>    <span class=n>populate_dict</span><span class=p>(</span><span class=n>list_</span><span class=o>=</span><span class=n>unique_hours</span><span class=p>,</span> <span class=n>dict_</span><span class=o>=</span><span class=n>unique_users_hourly_freq</span><span class=p>)</span>
</span><span id=__span-18-56><a id=__codelineno-18-56 name=__codelineno-18-56 href=#__codelineno-18-56></a>    <span class=n>populate_dict</span><span class=p>(</span><span class=n>list_</span><span class=o>=</span><span class=n>unique_dayofweek</span><span class=p>,</span> <span class=n>dict_</span><span class=o>=</span><span class=n>unique_users_dayofweek_freq</span><span class=p>)</span>
</span><span id=__span-18-57><a id=__codelineno-18-57 name=__codelineno-18-57 href=#__codelineno-18-57></a>    <span class=n>populate_dict</span><span class=p>(</span><span class=n>list_</span><span class=o>=</span><span class=n>unique_week</span><span class=p>,</span> <span class=n>dict_</span><span class=o>=</span><span class=n>unique_users_weekly_freq</span><span class=p>)</span>
</span><span id=__span-18-58><a id=__codelineno-18-58 name=__codelineno-18-58 href=#__codelineno-18-58></a>
</span><span id=__span-18-59><a id=__codelineno-18-59 name=__codelineno-18-59 href=#__codelineno-18-59></a>
</span><span id=__span-18-60><a id=__codelineno-18-60 name=__codelineno-18-60 href=#__codelineno-18-60></a><span class=c1># Sort our dicts</span>
</span><span id=__span-18-61><a id=__codelineno-18-61 name=__codelineno-18-61 href=#__codelineno-18-61></a><span class=n>unique_users_daily_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>unique_users_daily_freq</span><span class=o>.</span><span class=n>items</span><span class=p>()))</span>
</span><span id=__span-18-62><a id=__codelineno-18-62 name=__codelineno-18-62 href=#__codelineno-18-62></a><span class=n>unique_users_hourly_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>unique_users_hourly_freq</span><span class=o>.</span><span class=n>items</span><span class=p>()))</span>
</span><span id=__span-18-63><a id=__codelineno-18-63 name=__codelineno-18-63 href=#__codelineno-18-63></a>
</span><span id=__span-18-64><a id=__codelineno-18-64 name=__codelineno-18-64 href=#__codelineno-18-64></a><span class=c1># Sort by integers for day of the week and then lets change the dict from int to str</span>
</span><span id=__span-18-65><a id=__codelineno-18-65 name=__codelineno-18-65 href=#__codelineno-18-65></a><span class=n>unique_users_dayofweek_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>unique_users_dayofweek_freq</span><span class=o>.</span><span class=n>items</span><span class=p>()))</span>
</span><span id=__span-18-66><a id=__codelineno-18-66 name=__codelineno-18-66 href=#__codelineno-18-66></a><span class=n>unique_users_dayofweek_freq</span> <span class=o>=</span> <span class=n>int_dow_dict</span><span class=p>(</span><span class=n>unique_users_dayofweek_freq</span><span class=p>)</span>
</span><span id=__span-18-67><a id=__codelineno-18-67 name=__codelineno-18-67 href=#__codelineno-18-67></a>
</span><span id=__span-18-68><a id=__codelineno-18-68 name=__codelineno-18-68 href=#__codelineno-18-68></a><span class=n>unique_users_weekly_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>unique_users_weekly_freq</span><span class=o>.</span><span class=n>items</span><span class=p>()))</span>
</span></code></pre></div> <h4 id=daily-user-activity>Daily User Activity<a class=headerlink href=#daily-user-activity title="Permanent link">¶</a></h4> <p>We notice a fluctuation between 675 and 850 users, with a substantial drop-off toward the end. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=c1># Daily User Activity</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=c1>## Indices / Values for Plot</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_daily_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>()]</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_daily_freq</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=c1>## Plot</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=n>plot_scatter</span><span class=p>(</span>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a>    <span class=n>indices_</span><span class=o>=</span><span class=n>indices</span><span class=p>,</span> <span class=n>values_</span><span class=o>=</span><span class=n>values</span><span class=p>,</span>
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>    <span class=n>yrange_</span><span class=o>=</span><span class=p>[</span><span class=mi>200</span><span class=p>,</span> <span class=mi>900</span><span class=p>],</span> <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'Date'</span><span class=p>,</span>
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a>    <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'Active Users'</span><span class=p>,</span> <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt;Daily Active Users&lt;b&gt;'</span>
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/dau.png data-desc-position=bottom><img alt src=../../../../img/dau.png></a><p></p> <h4 id=hourly-user-activity>Hourly User Activity<a class=headerlink href=#hourly-user-activity title="Permanent link">¶</a></h4> <p>We notice a significant surge in users at 04:00 (4am), which remains relatively consistent until 21:00 (9:00 pm). Following that, there is a notable decline until 04:00.</p> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=c1># Hourly User Activity</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=c1>## Indices / Values for Plot</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_hourly_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>()]</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_hourly_freq</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a><span class=c1>## Plot</span>
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a><span class=n>plot_scatter</span><span class=p>(</span>
</span><span id=__span-20-9><a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a>    <span class=n>indices_</span> <span class=o>=</span> <span class=n>indices</span> <span class=p>,</span> <span class=n>values_</span> <span class=o>=</span> <span class=n>values</span><span class=p>,</span>
</span><span id=__span-20-10><a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a>    <span class=n>yrange_</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>20000</span><span class=p>],</span> <span class=n>xaxis_title</span> <span class=o>=</span> <span class=s1>'Hour'</span><span class=p>,</span>
</span><span id=__span-20-11><a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a>    <span class=n>yaxis_title</span><span class=o>=</span> <span class=s1>'Active Users'</span><span class=p>,</span> <span class=n>title_</span> <span class=o>=</span> <span class=s1>'&lt;b&gt;Hourly Active Users&lt;b&gt;'</span>
</span><span id=__span-20-12><a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a>    <span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/hau.png data-desc-position=bottom><img alt src=../../../../img/hau.png></a><p></p> <h4 id=weekly-user-activity>Weekly User Activity<a class=headerlink href=#weekly-user-activity title="Permanent link">¶</a></h4> <p>There is a consistent upward trend in the number of users from week 1 to week 4. </p> <div class="language-python highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=c1># Weekly User Activity</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=c1>## Indices / Values for Plot</span>
</span><span id=__span-21-4><a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_weekly_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>()]</span>
</span><span id=__span-21-5><a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_weekly_freq</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-21-6><a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>
</span><span id=__span-21-7><a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=c1>## Plot</span>
</span><span id=__span-21-8><a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a><span class=n>plot_bar</span><span class=p>(</span>
</span><span id=__span-21-9><a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a>    <span class=n>indices_</span> <span class=o>=</span> <span class=n>indices</span><span class=p>,</span> <span class=n>values_</span> <span class=o>=</span> <span class=n>values</span><span class=p>,</span>
</span><span id=__span-21-10><a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a>    <span class=n>yrange_</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>3.5</span><span class=p>],</span> <span class=n>xaxis_title</span> <span class=o>=</span> <span class=s1>'Week'</span><span class=p>,</span>
</span><span id=__span-21-11><a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a>    <span class=n>yaxis_title</span><span class=o>=</span> <span class=s1>'Active Users'</span><span class=p>,</span> <span class=n>title_</span> <span class=o>=</span> <span class=s1>'&lt;b&gt; Weekly Active Users &lt;b&gt;'</span><span class=p>)</span>
</span></code></pre></div> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/wau.png data-desc-position=bottom><img alt src=../../../../img/wau.png></a></p> <h4 id=day-of-the-week-user-activity>Day of the Week User Activity<a class=headerlink href=#day-of-the-week-user-activity title="Permanent link">¶</a></h4> <p>User activity remains consistent throughout all days of the week.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=c1># Day Of The Week Activity</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=c1>## Indices / Values for Plot</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_dayofweek_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>()]</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>unique_users_dayofweek_freq</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-22-6><a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a>
</span><span id=__span-22-7><a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=c1>## Plot</span>
</span><span id=__span-22-8><a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a><span class=n>plot_bar</span><span class=p>(</span>
</span><span id=__span-22-9><a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a>    <span class=n>indices_</span> <span class=o>=</span> <span class=n>indices</span><span class=p>,</span> <span class=n>values_</span> <span class=o>=</span> <span class=n>values</span><span class=p>,</span>
</span><span id=__span-22-10><a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a>    <span class=n>yrange_</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>3.5</span><span class=p>],</span> <span class=n>xaxis_title</span> <span class=o>=</span> <span class=s1>'Day'</span><span class=p>,</span>
</span><span id=__span-22-11><a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a>    <span class=n>yaxis_title</span><span class=o>=</span> <span class=s1>'Active Users'</span><span class=p>,</span> <span class=n>title_</span> <span class=o>=</span> <span class=s1>'&lt;b&gt; Day of the Week Activity  &lt;b&gt;'</span><span class=p>)</span>
</span></code></pre></div> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/dotwua.png data-desc-position=bottom><img alt src=../../../../img/dotwua.png></a></p> </div> <h3 id=session>Session<a class=headerlink href=#session title="Permanent link">¶</a></h3> <div class="admonition question"> <p class=admonition-title>What are the total number of sessions?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There are 36795 unique sessions. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=c1># Toal Number of Sessions</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=n>single_subset_bar</span><span class=p>(</span><span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'session_id'</span><span class=p>,</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>                <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'Number of Sessions'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>40000</span><span class=p>])</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/numberofsessions.png data-desc-position=bottom><img alt src=../../../../img/numberofsessions.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What are the number of unique sessions per day?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>The session count remains relatively stable within the range of 4000 to 6000 sessions until the final date, where a notable decline is observed.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=c1># Number of unique sessions per day</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=c1># Make a copy of the dataframe and extract the time as a str</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=n>copy_df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=n>copy_df</span><span class=p>[</span><span class=s1>'impression_time'</span><span class=p>]</span> <span class=o>=</span> <span class=n>copy_df</span><span class=p>[</span><span class=s1>'impression_time'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a>    <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>date</span><span class=p>())</span>
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a>
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=c1># Group by the session ids with the impression time</span>
</span><span id=__span-24-9><a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=n>unique_sessions_per_day</span> <span class=o>=</span> <span class=n>copy_df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span>
</span><span id=__span-24-10><a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a>    <span class=n>by</span><span class=o>=</span><span class=s1>'session_id'</span><span class=p>)[</span><span class=s1>'impression_time'</span><span class=p>]</span><span class=o>.</span><span class=n>min</span><span class=p>()</span>
</span><span id=__span-24-11><a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=n>tmp_dau_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>unique_sessions_per_day</span><span class=o>.</span><span class=n>values</span><span class=p>,</span>
</span><span id=__span-24-12><a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a>                        <span class=n>index</span><span class=o>=</span><span class=n>unique_sessions_per_day</span><span class=o>.</span><span class=n>keys</span><span class=p>(),</span> <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>'Session Dates'</span><span class=p>])</span>
</span><span id=__span-24-13><a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a>
</span><span id=__span-24-14><a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=c1># Plot</span>
</span><span id=__span-24-15><a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=n>multiple_subset_bar</span><span class=p>(</span>
</span><span id=__span-24-16><a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a>    <span class=n>df_</span><span class=o>=</span><span class=n>tmp_dau_df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'Session Dates'</span><span class=p>,</span>
</span><span id=__span-24-17><a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a>    <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>4.5</span><span class=p>],</span> <span class=n>xaxis_title</span> <span class=o>=</span> <span class=s1>'Session Dates'</span><span class=p>)</span>
</span></code></pre></div> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/das.png data-desc-position=bottom><img alt src=../../../../img/das.png></a></p> </div> <div class="admonition question"> <p class=admonition-title>What is average read time and scroll percentage for each unique session?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <h4 id=read-time_1>Read Time<a class=headerlink href=#read-time_1 title="Permanent link">¶</a></h4> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=c1># Read Time per Session</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=c1>## Group by session ids and read_time </span>
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=n>tmp_session_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s1>'session_id'</span><span class=p>)[</span>
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a>                            <span class=s1>'read_time'</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>(),</span> <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>'read_time'</span><span class=p>])</span>
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=c1>## Plot</span>
</span><span id=__span-25-6><a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=n>single_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-25-7><a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a>    <span class=n>df_</span><span class=o>=</span><span class=n>tmp_session_df</span><span class=p>,</span>  <span class=n>feature_</span><span class=o>=</span><span class=s1>'read_time'</span><span class=p>,</span>
</span><span id=__span-25-8><a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a>    <span class=n>data_title</span><span class=o>=</span><span class=s1>'Unique Sessions'</span><span class=p>,</span> <span class=n>feature_title</span> <span class=o>=</span> <span class=s1>'Read Time(s)'</span><span class=p>,</span>
</span><span id=__span-25-9><a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a>    <span class=n>histogram_xaxis_title</span> <span class=o>=</span><span class=s1>'Read Time(s)'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/artus.png data-desc-position=bottom><img alt src=../../../../img/artus.png></a><p></p> <h4 id=scroll-percentage_1>Scroll Percentage<a class=headerlink href=#scroll-percentage_1 title="Permanent link">¶</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=c1># Scroll Percentage per Session</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=c1>## Group by session ids and scroll percentage</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=n>tmp_session_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s1>'session_id'</span><span class=p>)[</span>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a>                            <span class=s1>'scroll_percentage'</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>(),</span> <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>'scroll_percentage'</span><span class=p>])</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=c1>## Plot</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=n>single_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-26-7><a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a>    <span class=n>df_</span><span class=o>=</span><span class=n>tmp_session_df</span><span class=p>,</span>  <span class=n>feature_</span><span class=o>=</span><span class=s1>'scroll_percentage'</span><span class=p>,</span>
</span><span id=__span-26-8><a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a>    <span class=n>data_title</span><span class=o>=</span><span class=s1>'Unique Sessions'</span><span class=p>,</span> <span class=n>feature_title</span> <span class=o>=</span> <span class=s1>'Scroll Percentage(%)'</span><span class=p>,</span>
</span><span id=__span-26-9><a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a>    <span class=n>histogram_xaxis_title</span> <span class=o>=</span><span class=s1>'Scroll Percentage(%)'</span><span class=p>)</span>
</span></code></pre></div> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/aspus.png data-desc-position=bottom><img alt src=../../../../img/aspus.png></a></p> </div> <h3 id=topic>Topic<a class=headerlink href=#topic title="Permanent link">¶</a></h3> <div class="admonition question"> <p class=admonition-title>How many topics are there in total?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There are 78 unique topics.</p> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=c1># Number of Topics!</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=c1># Unique Topics</span>
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=n>topic_list</span> <span class=o>=</span> <span class=n>unique_subset_topics</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=c1># Plot</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a><span class=n>tmp_topic_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>topic_list</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>'topics'</span><span class=p>])</span>
</span><span id=__span-27-6><a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a>
</span><span id=__span-27-7><a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=n>single_subset_bar</span><span class=p>(</span><span class=n>df_</span><span class=o>=</span><span class=n>tmp_topic_df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'topics'</span><span class=p>,</span>
</span><span id=__span-27-8><a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a>                <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'Number of Topics'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>100</span><span class=p>])</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/numberoftopics.png data-desc-position=bottom><img alt src=../../../../img/numberoftopics.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What are the top 10 most popular topics?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>Kendt &gt; Sport &gt; Begivenhed &gt; Underholdning &gt; Sportsbegivenhed &gt; Kriminalitet &gt; Livsstill &gt; Politik &gt; Fodbold &gt; Erhverv </p><div class="language-python highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=c1># Record the frequency of topics across unique users, readtimes across topics, and scroll percentages across those topics</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=c1># Get all unique ids in a list</span>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=n>unique_user_ids</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>'user_id'</span><span class=p>]</span><span class=o>.</span><span class=n>values</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>1000</span><span class=p>]</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a>
</span><span id=__span-28-6><a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a><span class=c1># Create dictionaries</span>
</span><span id=__span-28-7><a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a><span class=n>unique_users_topics_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-28-8><a id=__codelineno-28-8 name=__codelineno-28-8 href=#__codelineno-28-8></a><span class=n>unique_topic_scroll_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-28-9><a id=__codelineno-28-9 name=__codelineno-28-9 href=#__codelineno-28-9></a><span class=n>unique_topic_read_freq</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-28-10><a id=__codelineno-28-10 name=__codelineno-28-10 href=#__codelineno-28-10></a>
</span><span id=__span-28-11><a id=__codelineno-28-11 name=__codelineno-28-11 href=#__codelineno-28-11></a><span class=c1># Iterate through each user id and record the topics viewed!</span>
</span><span id=__span-28-12><a id=__codelineno-28-12 name=__codelineno-28-12 href=#__codelineno-28-12></a><span class=k>for</span> <span class=nb>id</span> <span class=ow>in</span> <span class=n>unique_user_ids</span><span class=p>:</span>
</span><span id=__span-28-13><a id=__codelineno-28-13 name=__codelineno-28-13 href=#__codelineno-28-13></a>    <span class=c1># Get the subset of that user id</span>
</span><span id=__span-28-14><a id=__codelineno-28-14 name=__codelineno-28-14 href=#__codelineno-28-14></a>    <span class=n>tmp_df</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>df</span><span class=p>[</span><span class=s1>'user_id'</span><span class=p>]</span> <span class=o>==</span> <span class=nb>id</span><span class=p>]</span>
</span><span id=__span-28-15><a id=__codelineno-28-15 name=__codelineno-28-15 href=#__codelineno-28-15></a>    <span class=c1># Now lets go through each topic</span>
</span><span id=__span-28-16><a id=__codelineno-28-16 name=__codelineno-28-16 href=#__codelineno-28-16></a>    <span class=n>indices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>tmp_df</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-28-17><a id=__codelineno-28-17 name=__codelineno-28-17 href=#__codelineno-28-17></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>indices</span><span class=p>:</span>
</span><span id=__span-28-18><a id=__codelineno-28-18 name=__codelineno-28-18 href=#__codelineno-28-18></a>        <span class=c1># Record the topic, scroll percentage and read_time for each index</span>
</span><span id=__span-28-19><a id=__codelineno-28-19 name=__codelineno-28-19 href=#__codelineno-28-19></a>        <span class=n>tmp_topics</span> <span class=o>=</span> <span class=n>tmp_df</span><span class=p>[</span><span class=s1>'topics'</span><span class=p>][</span><span class=n>i</span><span class=p>]</span>
</span><span id=__span-28-20><a id=__codelineno-28-20 name=__codelineno-28-20 href=#__codelineno-28-20></a>        <span class=n>tmp_scroll</span> <span class=o>=</span> <span class=n>tmp_df</span><span class=p>[</span><span class=s1>'scroll_percentage'</span><span class=p>][</span><span class=n>i</span><span class=p>]</span>
</span><span id=__span-28-21><a id=__codelineno-28-21 name=__codelineno-28-21 href=#__codelineno-28-21></a>        <span class=n>tmp_read</span> <span class=o>=</span> <span class=n>tmp_df</span><span class=p>[</span><span class=s1>'read_time'</span><span class=p>][</span><span class=n>i</span><span class=p>]</span>
</span><span id=__span-28-22><a id=__codelineno-28-22 name=__codelineno-28-22 href=#__codelineno-28-22></a>        <span class=n>topics</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>tmp_topics</span><span class=p>]</span>
</span><span id=__span-28-23><a id=__codelineno-28-23 name=__codelineno-28-23 href=#__codelineno-28-23></a>        <span class=n>scroll</span> <span class=o>=</span> <span class=p>[</span><span class=n>tmp_scroll</span><span class=p>]</span>
</span><span id=__span-28-24><a id=__codelineno-28-24 name=__codelineno-28-24 href=#__codelineno-28-24></a>        <span class=n>read</span> <span class=o>=</span> <span class=p>[</span><span class=n>tmp_read</span><span class=p>]</span>
</span><span id=__span-28-25><a id=__codelineno-28-25 name=__codelineno-28-25 href=#__codelineno-28-25></a>
</span><span id=__span-28-26><a id=__codelineno-28-26 name=__codelineno-28-26 href=#__codelineno-28-26></a>    <span class=c1># Find the average scroll percentages across each topic  (Can be related to whether a topic doesnt require too much reading has visualizations)</span>
</span><span id=__span-28-27><a id=__codelineno-28-27 name=__codelineno-28-27 href=#__codelineno-28-27></a>    <span class=c1># Look at article_id for whichever topics the article is included in add that scroll percentage</span>
</span><span id=__span-28-28><a id=__codelineno-28-28 name=__codelineno-28-28 href=#__codelineno-28-28></a>        <span class=n>tmp_topic_scroll</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>topics</span><span class=p>,</span> <span class=n>scroll</span><span class=p>)}</span>
</span><span id=__span-28-29><a id=__codelineno-28-29 name=__codelineno-28-29 href=#__codelineno-28-29></a>        <span class=n>unique_topic_scroll_freq</span> <span class=o>=</span> <span class=n>topics_article_id_scroll_read</span><span class=p>(</span>
</span><span id=__span-28-30><a id=__codelineno-28-30 name=__codelineno-28-30 href=#__codelineno-28-30></a>            <span class=n>tmp_topic_scroll</span><span class=p>,</span> <span class=n>unique_topic_scroll_freq</span><span class=p>)</span>
</span><span id=__span-28-31><a id=__codelineno-28-31 name=__codelineno-28-31 href=#__codelineno-28-31></a>
</span><span id=__span-28-32><a id=__codelineno-28-32 name=__codelineno-28-32 href=#__codelineno-28-32></a>    <span class=c1># Find the average read time across each topic</span>
</span><span id=__span-28-33><a id=__codelineno-28-33 name=__codelineno-28-33 href=#__codelineno-28-33></a>    <span class=c1># Look at article_id for whichever topics the article is included in add that readtime</span>
</span><span id=__span-28-34><a id=__codelineno-28-34 name=__codelineno-28-34 href=#__codelineno-28-34></a>        <span class=n>tmp_topic_read</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>topics</span><span class=p>,</span> <span class=n>read</span><span class=p>)}</span>
</span><span id=__span-28-35><a id=__codelineno-28-35 name=__codelineno-28-35 href=#__codelineno-28-35></a>        <span class=n>unique_topic_read_freq</span> <span class=o>=</span> <span class=n>topics_article_id_scroll_read</span><span class=p>(</span>
</span><span id=__span-28-36><a id=__codelineno-28-36 name=__codelineno-28-36 href=#__codelineno-28-36></a>            <span class=n>tmp_topic_read</span><span class=p>,</span> <span class=n>unique_topic_read_freq</span><span class=p>)</span>
</span><span id=__span-28-37><a id=__codelineno-28-37 name=__codelineno-28-37 href=#__codelineno-28-37></a>
</span><span id=__span-28-38><a id=__codelineno-28-38 name=__codelineno-28-38 href=#__codelineno-28-38></a>    <span class=c1># Unique User Topics</span>
</span><span id=__span-28-39><a id=__codelineno-28-39 name=__codelineno-28-39 href=#__codelineno-28-39></a>    <span class=c1># Get rid of duplicate values</span>
</span><span id=__span-28-40><a id=__codelineno-28-40 name=__codelineno-28-40 href=#__codelineno-28-40></a>    <span class=n>unique_topics</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>topics</span><span class=p>))</span>
</span><span id=__span-28-41><a id=__codelineno-28-41 name=__codelineno-28-41 href=#__codelineno-28-41></a>
</span><span id=__span-28-42><a id=__codelineno-28-42 name=__codelineno-28-42 href=#__codelineno-28-42></a>    <span class=c1># Populate our dict</span>
</span><span id=__span-28-43><a id=__codelineno-28-43 name=__codelineno-28-43 href=#__codelineno-28-43></a>    <span class=n>populate_dict</span><span class=p>(</span><span class=n>unique_topics</span><span class=p>,</span> <span class=n>unique_users_topics_freq</span><span class=p>)</span>
</span><span id=__span-28-44><a id=__codelineno-28-44 name=__codelineno-28-44 href=#__codelineno-28-44></a>
</span><span id=__span-28-45><a id=__codelineno-28-45 name=__codelineno-28-45 href=#__codelineno-28-45></a>
</span><span id=__span-28-46><a id=__codelineno-28-46 name=__codelineno-28-46 href=#__codelineno-28-46></a><span class=c1># Sort the dictionaries</span>
</span><span id=__span-28-47><a id=__codelineno-28-47 name=__codelineno-28-47 href=#__codelineno-28-47></a><span class=n>sorted_topic_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-28-48><a id=__codelineno-28-48 name=__codelineno-28-48 href=#__codelineno-28-48></a>    <span class=nb>sorted</span><span class=p>(</span><span class=n>unique_users_topics_freq</span><span class=o>.</span><span class=n>items</span><span class=p>(),</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>reverse</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>
</span><span id=__span-28-49><a id=__codelineno-28-49 name=__codelineno-28-49 href=#__codelineno-28-49></a>
</span><span id=__span-28-50><a id=__codelineno-28-50 name=__codelineno-28-50 href=#__codelineno-28-50></a><span class=c1># Find the average read times across each topic</span>
</span><span id=__span-28-51><a id=__codelineno-28-51 name=__codelineno-28-51 href=#__codelineno-28-51></a><span class=n>unique_topic_read_avg_freq</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=nb>round</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>nanmean</span><span class=p>(</span><span class=n>v</span><span class=p>),</span> <span class=mi>2</span><span class=p>)</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span>
</span><span id=__span-28-52><a id=__codelineno-28-52 name=__codelineno-28-52 href=#__codelineno-28-52></a>    <span class=n>unique_topic_read_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>(),</span> <span class=n>unique_topic_read_freq</span><span class=o>.</span><span class=n>values</span><span class=p>())}</span>
</span><span id=__span-28-53><a id=__codelineno-28-53 name=__codelineno-28-53 href=#__codelineno-28-53></a><span class=n>sorted_unique_topic_read_avg_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-28-54><a id=__codelineno-28-54 name=__codelineno-28-54 href=#__codelineno-28-54></a>    <span class=nb>sorted</span><span class=p>(</span><span class=n>unique_topic_read_avg_freq</span><span class=o>.</span><span class=n>items</span><span class=p>(),</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>reverse</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>
</span><span id=__span-28-55><a id=__codelineno-28-55 name=__codelineno-28-55 href=#__codelineno-28-55></a>
</span><span id=__span-28-56><a id=__codelineno-28-56 name=__codelineno-28-56 href=#__codelineno-28-56></a><span class=c1># Sort the topics for distribution</span>
</span><span id=__span-28-57><a id=__codelineno-28-57 name=__codelineno-28-57 href=#__codelineno-28-57></a><span class=n>sorted_unique_topic_read_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>unique_topic_read_freq</span><span class=o>.</span><span class=n>items</span><span class=p>()))</span>
</span><span id=__span-28-58><a id=__codelineno-28-58 name=__codelineno-28-58 href=#__codelineno-28-58></a>
</span><span id=__span-28-59><a id=__codelineno-28-59 name=__codelineno-28-59 href=#__codelineno-28-59></a><span class=c1># Find the average scroll percentages across each topic</span>
</span><span id=__span-28-60><a id=__codelineno-28-60 name=__codelineno-28-60 href=#__codelineno-28-60></a><span class=n>unique_topic_scroll_avg_freq</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=nb>round</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>nanmean</span><span class=p>(</span><span class=n>v</span><span class=p>),</span> <span class=mi>2</span><span class=p>)</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span>
</span><span id=__span-28-61><a id=__codelineno-28-61 name=__codelineno-28-61 href=#__codelineno-28-61></a>    <span class=n>unique_topic_scroll_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>(),</span> <span class=n>unique_topic_scroll_freq</span><span class=o>.</span><span class=n>values</span><span class=p>())}</span>
</span><span id=__span-28-62><a id=__codelineno-28-62 name=__codelineno-28-62 href=#__codelineno-28-62></a><span class=n>sorted_unique_topic_scroll_avg_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-28-63><a id=__codelineno-28-63 name=__codelineno-28-63 href=#__codelineno-28-63></a>    <span class=nb>sorted</span><span class=p>(</span><span class=n>unique_topic_scroll_avg_freq</span><span class=o>.</span><span class=n>items</span><span class=p>(),</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>reverse</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>
</span><span id=__span-28-64><a id=__codelineno-28-64 name=__codelineno-28-64 href=#__codelineno-28-64></a>
</span><span id=__span-28-65><a id=__codelineno-28-65 name=__codelineno-28-65 href=#__codelineno-28-65></a><span class=c1># Sort the topics scroll pct for distribution</span>
</span><span id=__span-28-66><a id=__codelineno-28-66 name=__codelineno-28-66 href=#__codelineno-28-66></a><span class=n>sorted_unique_topic_scroll_freq</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-28-67><a id=__codelineno-28-67 name=__codelineno-28-67 href=#__codelineno-28-67></a>    <span class=nb>sorted</span><span class=p>(</span><span class=n>unique_topic_scroll_freq</span><span class=o>.</span><span class=n>items</span><span class=p>()))</span>
</span><span id=__span-28-68><a id=__codelineno-28-68 name=__codelineno-28-68 href=#__codelineno-28-68></a>
</span><span id=__span-28-69><a id=__codelineno-28-69 name=__codelineno-28-69 href=#__codelineno-28-69></a><span class=c1># Distribution of Topics across users!</span>
</span><span id=__span-28-70><a id=__codelineno-28-70 name=__codelineno-28-70 href=#__codelineno-28-70></a><span class=c1>## Indices / Values for Plot</span>
</span><span id=__span-28-71><a id=__codelineno-28-71 name=__codelineno-28-71 href=#__codelineno-28-71></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>sorted_topic_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>()][</span><span class=mi>0</span><span class=p>:</span><span class=mi>10</span><span class=p>]</span>
</span><span id=__span-28-72><a id=__codelineno-28-72 name=__codelineno-28-72 href=#__codelineno-28-72></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>sorted_topic_freq</span><span class=o>.</span><span class=n>values</span><span class=p>()][</span><span class=mi>0</span><span class=p>:</span><span class=mi>10</span><span class=p>]</span>
</span><span id=__span-28-73><a id=__codelineno-28-73 name=__codelineno-28-73 href=#__codelineno-28-73></a>
</span><span id=__span-28-74><a id=__codelineno-28-74 name=__codelineno-28-74 href=#__codelineno-28-74></a><span class=c1>## Plot</span>
</span><span id=__span-28-75><a id=__codelineno-28-75 name=__codelineno-28-75 href=#__codelineno-28-75></a><span class=n>plot_bar</span><span class=p>(</span>
</span><span id=__span-28-76><a id=__codelineno-28-76 name=__codelineno-28-76 href=#__codelineno-28-76></a>    <span class=n>indices_</span><span class=o>=</span><span class=n>indices</span><span class=p>,</span> <span class=n>values_</span><span class=o>=</span><span class=n>values</span><span class=p>,</span>
</span><span id=__span-28-77><a id=__codelineno-28-77 name=__codelineno-28-77 href=#__codelineno-28-77></a>    <span class=n>yrange_</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'Topics'</span><span class=p>,</span>
</span><span id=__span-28-78><a id=__codelineno-28-78 name=__codelineno-28-78 href=#__codelineno-28-78></a>    <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'Count'</span><span class=p>,</span> <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt; Top 10 Highest Topic Activity&lt;b&gt;'</span><span class=p>)</span>
</span></code></pre></div><p></p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/top10topics.png data-desc-position=bottom><img alt src=../../../../img/top10topics.png></a></p> </div> <div class="admonition question"> <p class=admonition-title>What is the distribution of read time and scroll percentage across each topic?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <h4 id=read-time_2>Read Time<a class=headerlink href=#read-time_2 title="Permanent link">¶</a></h4> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=c1># Box Plot of Read Time across Topics</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=c1>## Indices / Values for Plot</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>sorted_unique_topic_read_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>()]</span>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>sorted_unique_topic_read_freq</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=c1>## Plot</span>
</span><span id=__span-29-6><a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a><span class=n>plot_box</span><span class=p>(</span>
</span><span id=__span-29-7><a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a>    <span class=n>indices_</span> <span class=o>=</span> <span class=n>indices</span><span class=p>,</span> <span class=n>values_</span> <span class=o>=</span> <span class=n>values</span><span class=p>,</span>
</span><span id=__span-29-8><a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a>    <span class=n>yrange_</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>3.5</span><span class=p>],</span> <span class=n>xaxis_title</span> <span class=o>=</span> <span class=s1>'Topics'</span><span class=p>,</span>
</span><span id=__span-29-9><a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a>    <span class=n>yaxis_title</span><span class=o>=</span> <span class=s1>'Read Time(s)'</span><span class=p>,</span> <span class=n>title_</span> <span class=o>=</span> <span class=s1>'&lt;b&gt; Distributions of Read Times across each Topic&lt;b&gt;'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/rtt_box.png data-desc-position=bottom><img alt src=../../../../img/rtt_box.png></a><p></p> <h4 id=scroll-percentage_2>Scroll Percentage<a class=headerlink href=#scroll-percentage_2 title="Permanent link">¶</a></h4> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=c1># Box Plot of Scroll Percentage across Topics</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=c1>## Indices / Values for Plot</span>
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=n>indices</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>sorted_unique_topic_scroll_freq</span><span class=o>.</span><span class=n>keys</span><span class=p>()]</span>
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>sorted_unique_topic_scroll_freq</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
</span><span id=__span-30-5><a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a><span class=c1>## Plot</span>
</span><span id=__span-30-6><a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a><span class=n>plot_box</span><span class=p>(</span>
</span><span id=__span-30-7><a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a>    <span class=n>indices_</span> <span class=o>=</span> <span class=n>indices</span><span class=p>,</span> <span class=n>values_</span> <span class=o>=</span> <span class=n>values</span><span class=p>,</span>
</span><span id=__span-30-8><a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a>    <span class=n>yrange_</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>2.1</span><span class=p>],</span> <span class=n>xaxis_title</span> <span class=o>=</span> <span class=s1>'Topics'</span><span class=p>,</span>
</span><span id=__span-30-9><a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a>    <span class=n>yaxis_title</span><span class=o>=</span> <span class=s1>'Read Time(s)'</span><span class=p>,</span> <span class=n>title_</span> <span class=o>=</span> <span class=s1>'&lt;b&gt; Distributions of Read Times across each Topic&lt;b&gt;'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/spt_box.png data-desc-position=bottom><img alt src=../../../../img/spt_box.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>How do daily and hourly activity patterns relate to each topic?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=c1># Daily and Hourly Activity across each Topic</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=c1># Get all the unique topics</span>
</span><span id=__span-31-4><a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=n>topic_list</span> <span class=o>=</span> <span class=n>unique_subset_topics</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span><span id=__span-31-5><a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=n>unique_topics</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>topic_list</span><span class=p>)</span>
</span><span id=__span-31-6><a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a>
</span><span id=__span-31-7><a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a><span class=c1># Get the list of each unqiue topic in a specific session</span>
</span><span id=__span-31-8><a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a><span class=n>topics</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s1>'session_id'</span><span class=p>)[</span><span class=s1>'topics'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
</span><span id=__span-31-9><a id=__codelineno-31-9 name=__codelineno-31-9 href=#__codelineno-31-9></a>
</span><span id=__span-31-10><a id=__codelineno-31-10 name=__codelineno-31-10 href=#__codelineno-31-10></a><span class=c1># Get the list of each unique timestamp for these sessions</span>
</span><span id=__span-31-11><a id=__codelineno-31-11 name=__codelineno-31-11 href=#__codelineno-31-11></a><span class=n>timestamps</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s1>'session_id'</span><span class=p>)[</span><span class=s1>'impression_time'</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
</span><span id=__span-31-12><a id=__codelineno-31-12 name=__codelineno-31-12 href=#__codelineno-31-12></a><span class=n>unique_dates</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-31-13><a id=__codelineno-31-13 name=__codelineno-31-13 href=#__codelineno-31-13></a>
</span><span id=__span-31-14><a id=__codelineno-31-14 name=__codelineno-31-14 href=#__codelineno-31-14></a><span class=c1># Create a list of hours in a str format</span>
</span><span id=__span-31-15><a id=__codelineno-31-15 name=__codelineno-31-15 href=#__codelineno-31-15></a><span class=n>unique_hours</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>24</span><span class=p>)]</span>
</span><span id=__span-31-16><a id=__codelineno-31-16 name=__codelineno-31-16 href=#__codelineno-31-16></a><span class=n>unique_hours</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=o>+</span> <span class=s1>':00'</span> <span class=k>if</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>9</span> <span class=k>else</span> <span class=nb>str</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=o>+</span>
</span><span id=__span-31-17><a id=__codelineno-31-17 name=__codelineno-31-17 href=#__codelineno-31-17></a>                <span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=o>+</span> <span class=s1>':00'</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>unique_hours</span><span class=p>]</span>
</span><span id=__span-31-18><a id=__codelineno-31-18 name=__codelineno-31-18 href=#__codelineno-31-18></a>
</span><span id=__span-31-19><a id=__codelineno-31-19 name=__codelineno-31-19 href=#__codelineno-31-19></a><span class=c1># Iterate through each timestamp</span>
</span><span id=__span-31-20><a id=__codelineno-31-20 name=__codelineno-31-20 href=#__codelineno-31-20></a><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>timestamps</span><span class=o>.</span><span class=n>values</span><span class=p>)):</span>
</span><span id=__span-31-21><a id=__codelineno-31-21 name=__codelineno-31-21 href=#__codelineno-31-21></a>    <span class=c1># Iterate through each idx</span>
</span><span id=__span-31-22><a id=__codelineno-31-22 name=__codelineno-31-22 href=#__codelineno-31-22></a>    <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>timestamps</span><span class=o>.</span><span class=n>values</span><span class=p>[</span><span class=n>i</span><span class=p>])):</span>
</span><span id=__span-31-23><a id=__codelineno-31-23 name=__codelineno-31-23 href=#__codelineno-31-23></a>        <span class=c1># Assign datetime and date objects</span>
</span><span id=__span-31-24><a id=__codelineno-31-24 name=__codelineno-31-24 href=#__codelineno-31-24></a>        <span class=n>tmp_datetime</span> <span class=o>=</span> <span class=n>timestamps</span><span class=o>.</span><span class=n>values</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span>
</span><span id=__span-31-25><a id=__codelineno-31-25 name=__codelineno-31-25 href=#__codelineno-31-25></a>        <span class=n>tmp_date</span> <span class=o>=</span> <span class=n>tmp_datetime</span><span class=o>.</span><span class=n>date</span><span class=p>()</span>
</span><span id=__span-31-26><a id=__codelineno-31-26 name=__codelineno-31-26 href=#__codelineno-31-26></a>        <span class=c1># if date not in unique dates, append</span>
</span><span id=__span-31-27><a id=__codelineno-31-27 name=__codelineno-31-27 href=#__codelineno-31-27></a>        <span class=k>if</span> <span class=n>tmp_date</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>unique_dates</span><span class=p>:</span>
</span><span id=__span-31-28><a id=__codelineno-31-28 name=__codelineno-31-28 href=#__codelineno-31-28></a>            <span class=n>unique_dates</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>tmp_date</span><span class=p>)</span>
</span><span id=__span-31-29><a id=__codelineno-31-29 name=__codelineno-31-29 href=#__codelineno-31-29></a>
</span><span id=__span-31-30><a id=__codelineno-31-30 name=__codelineno-31-30 href=#__codelineno-31-30></a><span class=c1># Sort dates</span>
</span><span id=__span-31-31><a id=__codelineno-31-31 name=__codelineno-31-31 href=#__codelineno-31-31></a><span class=n>unique_dates</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>unique_dates</span><span class=p>)</span>
</span><span id=__span-31-32><a id=__codelineno-31-32 name=__codelineno-31-32 href=#__codelineno-31-32></a>
</span><span id=__span-31-33><a id=__codelineno-31-33 name=__codelineno-31-33 href=#__codelineno-31-33></a><span class=c1># Instantiate dict objects with unique dates and unique key values set to 0</span>
</span><span id=__span-31-34><a id=__codelineno-31-34 name=__codelineno-31-34 href=#__codelineno-31-34></a><span class=n>unique_topic_daily_activity</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-31-35><a id=__codelineno-31-35 name=__codelineno-31-35 href=#__codelineno-31-35></a>    <span class=n>k</span><span class=p>:</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=mi>0</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>unique_dates</span><span class=p>}</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>unique_topics</span><span class=p>}</span>
</span><span id=__span-31-36><a id=__codelineno-31-36 name=__codelineno-31-36 href=#__codelineno-31-36></a><span class=n>unique_topic_hourly_activity</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-31-37><a id=__codelineno-31-37 name=__codelineno-31-37 href=#__codelineno-31-37></a>    <span class=n>k</span><span class=p>:</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=mi>0</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>unique_hours</span><span class=p>}</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>unique_topics</span><span class=p>}</span>
</span><span id=__span-31-38><a id=__codelineno-31-38 name=__codelineno-31-38 href=#__codelineno-31-38></a>
</span><span id=__span-31-39><a id=__codelineno-31-39 name=__codelineno-31-39 href=#__codelineno-31-39></a>
</span><span id=__span-31-40><a id=__codelineno-31-40 name=__codelineno-31-40 href=#__codelineno-31-40></a><span class=c1># Iterate through each session id</span>
</span><span id=__span-31-41><a id=__codelineno-31-41 name=__codelineno-31-41 href=#__codelineno-31-41></a><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>topics</span><span class=o>.</span><span class=n>values</span><span class=p>))):</span>
</span><span id=__span-31-42><a id=__codelineno-31-42 name=__codelineno-31-42 href=#__codelineno-31-42></a>    <span class=c1># Iterate through each index of nested list</span>
</span><span id=__span-31-43><a id=__codelineno-31-43 name=__codelineno-31-43 href=#__codelineno-31-43></a>    <span class=k>for</span> <span class=n>j</span><span class=p>,</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>topics</span><span class=o>.</span><span class=n>values</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>])),</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>i</span><span class=p>))):</span>
</span><span id=__span-31-44><a id=__codelineno-31-44 name=__codelineno-31-44 href=#__codelineno-31-44></a>        <span class=n>tmp</span> <span class=o>=</span> <span class=n>topics</span><span class=o>.</span><span class=n>values</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=n>j</span><span class=p>]</span>
</span><span id=__span-31-45><a id=__codelineno-31-45 name=__codelineno-31-45 href=#__codelineno-31-45></a>        <span class=c1># Assign a datetime and time object</span>
</span><span id=__span-31-46><a id=__codelineno-31-46 name=__codelineno-31-46 href=#__codelineno-31-46></a>        <span class=n>tmp_datetime</span> <span class=o>=</span> <span class=n>timestamps</span><span class=o>.</span><span class=n>values</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>k</span><span class=p>]</span>
</span><span id=__span-31-47><a id=__codelineno-31-47 name=__codelineno-31-47 href=#__codelineno-31-47></a>        <span class=n>tmp_date</span> <span class=o>=</span> <span class=n>tmp_datetime</span><span class=o>.</span><span class=n>date</span><span class=p>()</span>
</span><span id=__span-31-48><a id=__codelineno-31-48 name=__codelineno-31-48 href=#__codelineno-31-48></a>        <span class=n>tmp_time</span> <span class=o>=</span> <span class=n>tmp_datetime</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span><span id=__span-31-49><a id=__codelineno-31-49 name=__codelineno-31-49 href=#__codelineno-31-49></a>        <span class=n>tmp_hour</span> <span class=o>=</span> <span class=n>tmp_time</span><span class=o>.</span><span class=n>hour</span>
</span><span id=__span-31-50><a id=__codelineno-31-50 name=__codelineno-31-50 href=#__codelineno-31-50></a>
</span><span id=__span-31-51><a id=__codelineno-31-51 name=__codelineno-31-51 href=#__codelineno-31-51></a>        <span class=c1># Convert hour into a string</span>
</span><span id=__span-31-52><a id=__codelineno-31-52 name=__codelineno-31-52 href=#__codelineno-31-52></a>        <span class=k>if</span> <span class=n>tmp_hour</span> <span class=o>&gt;</span> <span class=mi>9</span><span class=p>:</span>
</span><span id=__span-31-53><a id=__codelineno-31-53 name=__codelineno-31-53 href=#__codelineno-31-53></a>            <span class=n>tmp_time</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>tmp_hour</span><span class=p>)</span> <span class=o>+</span> <span class=s1>':00'</span>
</span><span id=__span-31-54><a id=__codelineno-31-54 name=__codelineno-31-54 href=#__codelineno-31-54></a>
</span><span id=__span-31-55><a id=__codelineno-31-55 name=__codelineno-31-55 href=#__codelineno-31-55></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-31-56><a id=__codelineno-31-56 name=__codelineno-31-56 href=#__codelineno-31-56></a>            <span class=n>tmp_time</span> <span class=o>=</span> <span class=s2>"0"</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>tmp_hour</span><span class=p>)</span> <span class=o>+</span> <span class=s1>':00'</span>
</span><span id=__span-31-57><a id=__codelineno-31-57 name=__codelineno-31-57 href=#__codelineno-31-57></a>
</span><span id=__span-31-58><a id=__codelineno-31-58 name=__codelineno-31-58 href=#__codelineno-31-58></a>        <span class=c1># Add to dictionary</span>
</span><span id=__span-31-59><a id=__codelineno-31-59 name=__codelineno-31-59 href=#__codelineno-31-59></a>        <span class=n>unique_topic_daily_activity</span><span class=p>[</span><span class=n>tmp</span><span class=p>][</span><span class=n>tmp_date</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-31-60><a id=__codelineno-31-60 name=__codelineno-31-60 href=#__codelineno-31-60></a>        <span class=n>unique_topic_hourly_activity</span><span class=p>[</span><span class=n>tmp</span><span class=p>][</span><span class=n>tmp_time</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></code></pre></div> <h4 id=daily-activity>Daily Activity<a class=headerlink href=#daily-activity title="Permanent link">¶</a></h4> <p>Daily activity vary significantly across topics, with some topics experiencing higher levels of activity due to their popularity. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=c1># Daily Activity of Topics </span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=n>activity_scatter</span><span class=p>(</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>    <span class=n>dict_</span><span class=o>=</span><span class=n>unique_topic_daily_activity</span><span class=p>,</span>  <span class=n>yrange_</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2100</span><span class=p>],</span>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a>    <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'Dates'</span><span class=p>,</span> <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'Active Users'</span><span class=p>,</span> <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt; Daily Active Users per Topic'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/tda.png data-desc-position=bottom><img alt src=../../../../img/tda.png></a><p></p> <h4 id=hourly-activity>Hourly Activity<a class=headerlink href=#hourly-activity title="Permanent link">¶</a></h4> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=c1># Hourly Activity of Topics </span>
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class=n>activity_scatter</span><span class=p>(</span>
</span><span id=__span-33-3><a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>    <span class=n>dict_</span><span class=o>=</span><span class=n>unique_topic_hourly_activity</span><span class=p>,</span>  <span class=n>yrange_</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1000</span><span class=p>],</span>
</span><span id=__span-33-4><a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a>    <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'Hourly'</span><span class=p>,</span> <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'Active Users'</span><span class=p>,</span> <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt; Hourly Active Users per Topic'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/tha.png data-desc-position=bottom><img alt src=../../../../img/tha.png></a><p></p> </div> <h3 id=devices>Devices<a class=headerlink href=#devices title="Permanent link">¶</a></h3> <div class="admonition question"> <p class=admonition-title>What is the distribution of devices?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There are 23536 desktop users, 44472 mobile users, and 2413 tablet users. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=c1># Distribution of Devices</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a><span class=n>multiple_subset_bar</span><span class=p>(</span><span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'device_type'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=n>xaxis_title</span> <span class=o>=</span> <span class=s1>'Devices'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/device_dist.png data-desc-position=bottom><img alt src=../../../../img/device_dist.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What is the distribution of read time and scroll percentages for devices?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <h4 id=read-time_3>Read Time<a class=headerlink href=#read-time_3 title="Permanent link">¶</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=c1># Read Time across Devices</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class=n>multiple_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span>  <span class=n>feature_1</span><span class=o>=</span><span class=s1>'device_type'</span><span class=p>,</span>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a>    <span class=n>feature_2</span><span class=o>=</span><span class=s1>'read_time'</span><span class=p>,</span> <span class=n>feature_1_title</span><span class=o>=</span><span class=s1>'Devices'</span><span class=p>,</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a>    <span class=n>feature_2_title</span><span class=o>=</span><span class=s1>'Read Time(s)'</span><span class=p>,</span> <span class=n>histogram_xaxis_title</span><span class=o>=</span><span class=s1>'Read Time(s)'</span>
</span><span id=__span-35-6><a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=p>)</span>
</span></code></pre></div> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/device_rt.png data-desc-position=bottom><img alt src=../../../../img/device_rt.png></a></p> <h4 id=scroll-percentage_3>Scroll Percentage<a class=headerlink href=#scroll-percentage_3 title="Permanent link">¶</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=c1># Scroll Percentage across Devices</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a><span class=n>multiple_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span>  <span class=n>feature_1</span><span class=o>=</span><span class=s1>'device_type'</span><span class=p>,</span>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a>    <span class=n>feature_2</span><span class=o>=</span><span class=s1>'scroll_percentage'</span><span class=p>,</span> <span class=n>feature_1_title</span><span class=o>=</span><span class=s1>'Devices'</span><span class=p>,</span>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a>    <span class=n>feature_2_title</span><span class=o>=</span><span class=s1>'Scroll Percentages(%)'</span><span class=p>,</span> <span class=n>histogram_xaxis_title</span><span class=o>=</span><span class=s1>'Scroll Percentages(%)'</span>
</span><span id=__span-36-6><a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a><span class=p>)</span>
</span></code></pre></div> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/device_sp.png data-desc-position=bottom><img alt src=../../../../img/device_sp.png></a></p> </div> <div class="admonition question"> <p class=admonition-title>What is the topic distribution for devices?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>The topic distribution is relatively consistent across all devices: Kendt &gt; Sport &gt; Begivenhed, Underholdning &gt; Kriminalitet </p><div class="language-python highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=c1># Distribution of Topics Per Device</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=c1># Unique Topics</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=c1># Distribution of Topics Per Device</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=c1># Unique Topics</span>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=n>topic_list</span> <span class=o>=</span> <span class=n>unique_subset_topics</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span><span id=__span-37-6><a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a><span class=n>unique_topics</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>topic_list</span><span class=p>)</span>
</span><span id=__span-37-7><a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a><span class=c1># Plot</span>
</span><span id=__span-37-8><a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=n>topic_feature_bar_distribution</span><span class=p>(</span>
</span><span id=__span-37-9><a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'device_type'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>4.5</span><span class=p>],</span>
</span><span id=__span-37-10><a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a>    <span class=n>topic_list_</span><span class=o>=</span><span class=n>unique_topics</span><span class=p>,</span> <span class=n>subplot_titles_</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-37-11><a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a>        <span class=s1>'&lt;b&gt;Desktop&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;Mobile&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;Tablet&lt;b&gt;'</span><span class=p>],</span>
</span><span id=__span-37-12><a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a>    <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'&lt;b&gt;Topics&lt;b&gt;'</span><span class=p>,</span> <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'&lt;b&gt;Count&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-37-13><a id=__codelineno-37-13 name=__codelineno-37-13 href=#__codelineno-37-13></a>    <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt;Topic Distribution Per Device&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-37-14><a id=__codelineno-37-14 name=__codelineno-37-14 href=#__codelineno-37-14></a>    <span class=n>height_</span><span class=o>=</span><span class=mi>750</span><span class=p>,</span> <span class=n>width_</span><span class=o>=</span><span class=mi>1000</span>
</span><span id=__span-37-15><a id=__codelineno-37-15 name=__codelineno-37-15 href=#__codelineno-37-15></a><span class=p>)</span>
</span></code></pre></div><p></p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/device_topics.png data-desc-position=bottom><img alt src=../../../../img/device_topics.png></a></p> </div> <div class="admonition question"> <p class=admonition-title>What is the daily and hourly activity for devices?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>The majority of active users are on mobile devices, outnumbering both desktop and tablet users combined. However, all activity plots exhibit similar patterns with varying magnitudes. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=c1># Daily and Hourly Activity across Devices</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=n>daily_hourly_activity_feature_bar_distribution</span><span class=p>(</span>
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a>    <span class=n>df_</span> <span class=o>=</span> <span class=n>df</span><span class=p>,</span> <span class=n>feature_</span> <span class=o>=</span> <span class=s1>'device_type'</span><span class=p>,</span> <span class=n>yrange</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span>
</span><span id=__span-38-4><a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a>    <span class=n>subplot_titles_</span> <span class=o>=</span> <span class=p>[</span><span class=s1>'&lt;b&gt;Daily&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;Monthly&lt;b&gt;'</span><span class=p>],</span>
</span><span id=__span-38-5><a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a>    <span class=n>title_</span> <span class=o>=</span> <span class=s1>'&lt;b&gt;Daily and Hourly Activity per Device&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-38-6><a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a>    <span class=n>height_</span> <span class=o>=</span> <span class=mi>750</span><span class=p>,</span> <span class=n>width_</span> <span class=o>=</span> <span class=mi>1000</span>
</span><span id=__span-38-7><a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a>    <span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/devices_dha.png data-desc-position=bottom><img alt src=../../../../img/devices_dha.png></a><p></p> </div> <h3 id=age>Age<a class=headerlink href=#age title="Permanent link">¶</a></h3> <div class="admonition question"> <p class=admonition-title>What are the distribution of ages?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There's significant variation in the frequency of ages, with a majority of users falling within the 50-79 age range. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=c1># Distribution of Ages</span>
</span><span id=__span-39-2><a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=n>multiple_subset_bar</span><span class=p>(</span>
</span><span id=__span-39-3><a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'age'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>3.5</span><span class=p>],</span>
</span><span id=__span-39-4><a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a>    <span class=n>xaxis_title</span> <span class=o>=</span><span class=s1>'Age'</span>
</span><span id=__span-39-5><a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a>    <span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/age_dist.png data-desc-position=bottom><img alt src=../../../../img/age_dist.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What is the distribution of read time and scroll percentages for ages?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <h4 id=read-time_4>Read Time<a class=headerlink href=#read-time_4 title="Permanent link">¶</a></h4> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=c1># Read Time across Ages</span>
</span><span id=__span-40-2><a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=n>multiple_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-40-3><a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span>  <span class=n>feature_1</span><span class=o>=</span><span class=s1>'age'</span><span class=p>,</span>
</span><span id=__span-40-4><a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a>    <span class=n>feature_2</span><span class=o>=</span><span class=s1>'read_time'</span><span class=p>,</span> <span class=n>feature_1_title</span><span class=o>=</span><span class=s1>'Age'</span><span class=p>,</span>
</span><span id=__span-40-5><a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a>    <span class=n>feature_2_title</span><span class=o>=</span><span class=s1>'Read Time(s)'</span><span class=p>,</span> <span class=n>histogram_xaxis_title</span><span class=o>=</span><span class=s1>'Read Time(s)'</span>
</span><span id=__span-40-6><a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/age_rt.png data-desc-position=bottom><img alt src=../../../../img/age_rt.png></a><p></p> <h4 id=scroll-percentage_4>Scroll Percentage<a class=headerlink href=#scroll-percentage_4 title="Permanent link">¶</a></h4> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=c1># Scroll Percentages across Ages</span>
</span><span id=__span-41-2><a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a><span class=n>multiple_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-41-3><a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span>  <span class=n>feature_1</span><span class=o>=</span><span class=s1>'age'</span><span class=p>,</span>
</span><span id=__span-41-4><a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a>    <span class=n>feature_2</span><span class=o>=</span><span class=s1>'scroll_percentage'</span><span class=p>,</span> <span class=n>feature_1_title</span><span class=o>=</span><span class=s1>'Age'</span><span class=p>,</span>
</span><span id=__span-41-5><a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a>    <span class=n>feature_2_title</span><span class=o>=</span><span class=s1>'Scroll Percent(%)'</span><span class=p>,</span> <span class=n>histogram_xaxis_title</span><span class=o>=</span><span class=s1>'Scroll Percentage(%)'</span>
</span><span id=__span-41-6><a id=__codelineno-41-6 name=__codelineno-41-6 href=#__codelineno-41-6></a><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/age_sp.png data-desc-position=bottom><img alt src=../../../../img/age_sp.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What is the topic distribution for age?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>Five topics consistently appear across all age ranges, but their frequency varies within each age group. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=c1># Distribution of Topics across Ages</span>
</span><span id=__span-42-2><a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=c1>## Get all the unique topics</span>
</span><span id=__span-42-3><a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=n>topic_list</span> <span class=o>=</span> <span class=n>unique_subset_topics</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span><span id=__span-42-4><a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=n>unique_topics</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>topic_list</span><span class=p>)</span>
</span><span id=__span-42-5><a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a><span class=c1>## Plot</span>
</span><span id=__span-42-6><a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a><span class=n>topic_feature_bar_distribution</span><span class=p>(</span>
</span><span id=__span-42-7><a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'age'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>2.5</span><span class=p>],</span>
</span><span id=__span-42-8><a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a>    <span class=n>topic_list_</span><span class=o>=</span><span class=n>unique_topics</span><span class=p>,</span>
</span><span id=__span-42-9><a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a>    <span class=n>subplot_titles_</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-42-10><a id=__codelineno-42-10 name=__codelineno-42-10 href=#__codelineno-42-10></a>        <span class=s1>'&lt;b&gt;20-29&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;30-39&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;40-49&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-42-11><a id=__codelineno-42-11 name=__codelineno-42-11 href=#__codelineno-42-11></a>        <span class=s1>'&lt;b&gt;50-59&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;60-69&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;70-79&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-42-12><a id=__codelineno-42-12 name=__codelineno-42-12 href=#__codelineno-42-12></a>        <span class=s1>'&lt;b&gt;80-89&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;90-99&lt;b&gt;'</span>
</span><span id=__span-42-13><a id=__codelineno-42-13 name=__codelineno-42-13 href=#__codelineno-42-13></a>    <span class=p>],</span>
</span><span id=__span-42-14><a id=__codelineno-42-14 name=__codelineno-42-14 href=#__codelineno-42-14></a>    <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'&lt;b&gt;Topics&lt;b&gt;'</span><span class=p>,</span> <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'&lt;b&gt;Count&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-42-15><a id=__codelineno-42-15 name=__codelineno-42-15 href=#__codelineno-42-15></a>    <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt;Topic Distribution of Age Groups&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-42-16><a id=__codelineno-42-16 name=__codelineno-42-16 href=#__codelineno-42-16></a>    <span class=n>height_</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span> <span class=n>width_</span><span class=o>=</span><span class=mi>1000</span>
</span><span id=__span-42-17><a id=__codelineno-42-17 name=__codelineno-42-17 href=#__codelineno-42-17></a><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/age_topics.png data-desc-position=bottom><img alt src=../../../../img/age_topics.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What is the daily and hourly activity for age?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>The daily and hourly activity trajectories are similar across each age group, except for the 90-99 age group, which appears scattered due to missing data on certain dates. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=c1># Daily Activity Users / Hourly Activity Users across Age</span>
</span><span id=__span-43-2><a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a><span class=n>daily_hourly_activity_feature_bar_distribution</span><span class=p>(</span>
</span><span id=__span-43-3><a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'age'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>2.5</span><span class=p>],</span>
</span><span id=__span-43-4><a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a>    <span class=n>subplot_titles_</span><span class=o>=</span><span class=p>[</span><span class=s1>'&lt;b&gt;Daily&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;Monthly&lt;b&gt;'</span><span class=p>],</span>
</span><span id=__span-43-5><a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a>    <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt;Daily and Hourly Activity of Age Groups&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-43-6><a id=__codelineno-43-6 name=__codelineno-43-6 href=#__codelineno-43-6></a>    <span class=n>height_</span><span class=o>=</span><span class=mi>750</span><span class=p>,</span> <span class=n>width_</span><span class=o>=</span><span class=mi>1000</span>
</span><span id=__span-43-7><a id=__codelineno-43-7 name=__codelineno-43-7 href=#__codelineno-43-7></a><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/age_dha.png data-desc-position=bottom><img alt src=../../../../img/age_dha.png></a><p></p> </div> <h3 id=postcodes>Postcodes<a class=headerlink href=#postcodes title="Permanent link">¶</a></h3> <div class="admonition question"> <p class=admonition-title>What is the distribution of postcodes?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>There are 268 Big City users, 572 Metropolitan users, 190 Municipality users, 254 Provincial users, and 352 Rural District users. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=c1># Distribution of Postcodes. </span>
</span><span id=__span-44-2><a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a><span class=n>multiple_subset_bar</span><span class=p>(</span>
</span><span id=__span-44-3><a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'postcode'</span><span class=p>,</span>
</span><span id=__span-44-4><a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a>    <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=n>xaxis_title</span> <span class=o>=</span><span class=s1>'Postcode'</span><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/postcode_dist.png data-desc-position=bottom><img alt src=../../../../img/postcode_dist.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What is the distribution read time and scroll percentage of postcodes?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <h4 id=read-time_5>Read Time<a class=headerlink href=#read-time_5 title="Permanent link">¶</a></h4> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=c1># Read Time across Postcodes</span>
</span><span id=__span-45-2><a id=__codelineno-45-2 name=__codelineno-45-2 href=#__codelineno-45-2></a><span class=n>multiple_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-45-3><a id=__codelineno-45-3 name=__codelineno-45-3 href=#__codelineno-45-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span>  <span class=n>feature_1</span><span class=o>=</span><span class=s1>'postcode'</span><span class=p>,</span>
</span><span id=__span-45-4><a id=__codelineno-45-4 name=__codelineno-45-4 href=#__codelineno-45-4></a>    <span class=n>feature_2</span><span class=o>=</span><span class=s1>'read_time'</span><span class=p>,</span> <span class=n>feature_1_title</span><span class=o>=</span><span class=s1>'Postcodes'</span><span class=p>,</span>
</span><span id=__span-45-5><a id=__codelineno-45-5 name=__codelineno-45-5 href=#__codelineno-45-5></a>    <span class=n>feature_2_title</span><span class=o>=</span><span class=s1>'Read Time(s)'</span><span class=p>,</span> <span class=n>histogram_xaxis_title</span><span class=o>=</span><span class=s1>'Read Time(s)'</span>
</span><span id=__span-45-6><a id=__codelineno-45-6 name=__codelineno-45-6 href=#__codelineno-45-6></a><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/postcode_rt.png data-desc-position=bottom><img alt src=../../../../img/postcode_rt.png></a><p></p> <h4 id=scroll-percentage_5>Scroll percentage<a class=headerlink href=#scroll-percentage_5 title="Permanent link">¶</a></h4> <p></p><div class="language-python highlight"><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=c1># Scroll Percentages across Postcodes</span>
</span><span id=__span-46-2><a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a><span class=n>multiple_subset_feature_visualization</span><span class=p>(</span>
</span><span id=__span-46-3><a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span>  <span class=n>feature_1</span><span class=o>=</span><span class=s1>'postcode'</span><span class=p>,</span>
</span><span id=__span-46-4><a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a>    <span class=n>feature_2</span><span class=o>=</span><span class=s1>'scroll_percentage'</span><span class=p>,</span> <span class=n>feature_1_title</span><span class=o>=</span><span class=s1>'Postcode'</span><span class=p>,</span>
</span><span id=__span-46-5><a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a>    <span class=n>feature_2_title</span><span class=o>=</span><span class=s1>'Scroll Percent(%)'</span><span class=p>,</span> <span class=n>histogram_xaxis_title</span><span class=o>=</span><span class=s1>'Scroll Percentage(%)'</span>
</span><span id=__span-46-6><a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/postcode_sp.png data-desc-position=bottom><img alt src=../../../../img/postcode_sp.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What is the topic distribution for postcodes?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>Five topics consistently appear across all postcodes, but their frequency varies within each postcode. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=c1># Distribution of Topics across Postcodes</span>
</span><span id=__span-47-2><a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a><span class=c1>## Get all the unique topics</span>
</span><span id=__span-47-3><a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a><span class=n>topic_list</span> <span class=o>=</span> <span class=n>unique_subset_topics</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span><span id=__span-47-4><a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a><span class=n>unique_topics</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>topic_list</span><span class=p>)</span>
</span><span id=__span-47-5><a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a><span class=c1>## Plot</span>
</span><span id=__span-47-6><a id=__codelineno-47-6 name=__codelineno-47-6 href=#__codelineno-47-6></a><span class=n>topic_feature_bar_distribution</span><span class=p>(</span>
</span><span id=__span-47-7><a id=__codelineno-47-7 name=__codelineno-47-7 href=#__codelineno-47-7></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'postcode'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mf>2.5</span><span class=p>],</span>
</span><span id=__span-47-8><a id=__codelineno-47-8 name=__codelineno-47-8 href=#__codelineno-47-8></a>    <span class=n>topic_list_</span><span class=o>=</span><span class=n>unique_topics</span><span class=p>,</span>
</span><span id=__span-47-9><a id=__codelineno-47-9 name=__codelineno-47-9 href=#__codelineno-47-9></a>    <span class=n>subplot_titles_</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-47-10><a id=__codelineno-47-10 name=__codelineno-47-10 href=#__codelineno-47-10></a>        <span class=s1>'&lt;b&gt;Big City&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;Metropolitan&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;Municiplaity&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-47-11><a id=__codelineno-47-11 name=__codelineno-47-11 href=#__codelineno-47-11></a>        <span class=s1>'&lt;b&gt;Provincial&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;Rural District&lt;b&gt;'</span>
</span><span id=__span-47-12><a id=__codelineno-47-12 name=__codelineno-47-12 href=#__codelineno-47-12></a>    <span class=p>],</span>
</span><span id=__span-47-13><a id=__codelineno-47-13 name=__codelineno-47-13 href=#__codelineno-47-13></a>    <span class=n>xaxis_title</span><span class=o>=</span><span class=s1>'&lt;b&gt;Topics&lt;b&gt;'</span><span class=p>,</span> <span class=n>yaxis_title</span><span class=o>=</span><span class=s1>'&lt;b&gt;Count&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-47-14><a id=__codelineno-47-14 name=__codelineno-47-14 href=#__codelineno-47-14></a>    <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt;Topic Distribution per Postcodes&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-47-15><a id=__codelineno-47-15 name=__codelineno-47-15 href=#__codelineno-47-15></a>    <span class=n>height_</span><span class=o>=</span><span class=mi>850</span><span class=p>,</span> <span class=n>width_</span><span class=o>=</span><span class=mi>1000</span>
</span><span id=__span-47-16><a id=__codelineno-47-16 name=__codelineno-47-16 href=#__codelineno-47-16></a><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/postcode_topics.png data-desc-position=bottom><img alt src=../../../../img/postcode_topics.png></a><p></p> </div> <div class="admonition question"> <p class=admonition-title>What is the daily and hourly activity for postcodes?</p> </div> <div class="admonition success"> <p class=admonition-title>Solution</p> <p>The daily and hourly activity trajectories are similar across each postcode. </p><div class="language-python highlight"><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=c1># Daily Activity Users / Hourly Activity Users across Postcodes</span>
</span><span id=__span-48-2><a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a><span class=n>daily_hourly_activity_feature_bar_distribution</span><span class=p>(</span>
</span><span id=__span-48-3><a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a>    <span class=n>df_</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>feature_</span><span class=o>=</span><span class=s1>'postcode'</span><span class=p>,</span> <span class=n>yrange</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span>
</span><span id=__span-48-4><a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a>    <span class=n>subplot_titles_</span><span class=o>=</span><span class=p>[</span><span class=s1>'&lt;b&gt;Daily&lt;b&gt;'</span><span class=p>,</span> <span class=s1>'&lt;b&gt;Monthly&lt;b&gt;'</span><span class=p>],</span>
</span><span id=__span-48-5><a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a>    <span class=n>title_</span><span class=o>=</span><span class=s1>'&lt;b&gt;Daily and Hourly Activity per Postcode&lt;b&gt;'</span><span class=p>,</span>
</span><span id=__span-48-6><a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a>    <span class=n>height_</span><span class=o>=</span><span class=mi>750</span><span class=p>,</span> <span class=n>width_</span><span class=o>=</span><span class=mi>1000</span>
</span><span id=__span-48-7><a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a><span class=p>)</span>
</span></code></pre></div> <a class=glightbox data-type=image data-width=auto data-height=auto href=../../../../img/postcode_dha.png data-desc-position=bottom><img alt src=../../../../img/postcode_dha.png></a><p></p> </div> <hr> <p>For more analysis, check out my notebook containing the code!</p> <p>Stay tuned for my next post which will go over the model selection for Recommendation Systems!</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../28/RecSys-Overview/ class="md-footer__link md-footer__link--next" aria-label="Next: Recommendation Systems: Overview"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Recommendation Systems: Overview </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.linkedin.com/in/sulman-khan target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg> </a> <a href=https://github.com/sulmank target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../../../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../../../../javascripts/mathjax.js></script> <script src=../../../../../javascripts/analytics.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>